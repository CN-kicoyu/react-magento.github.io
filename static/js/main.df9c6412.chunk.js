(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var a=n(21),r=n(45),i=n(39),o=n(41),c=n(64),l=n(62),s=n(65),u=n(1),d=n.n(u),p=n(173),m=n.n(p),f=n(26),_=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(o.a)(t,[{key:"renderMultiSelect",value:function(){var e=this.props,t=e.schema,n=e.idSchema,i=e.uiSchema,o=e.formData,c=e.disabled,l=e.readonly,s=e.autofocus,u=e.onBlur,p=e.onFocus,m=e.registry,_=void 0===m?Object(f.getDefaultRegistry)():m,h=e.rawErrors,b=this.props.formData,g=_.widgets,O=_.definitions,y=void 0===O?{}:O,v=_.formContext,E=void 0===v?{}:v,j=Object(f.retrieveSchema)(t.items,y,o),w=Object(f.optionsList)(j),D=Object(a.a)({},Object(f.getUiOptions)(i),{enumOptions:w}),S=D.widget,C=void 0===S?"select":S,k=Object(r.a)(D,["widget"]),x=Object(f.getWidget)(t,C,g);return console.log("---array----"),d.a.createElement(x,{id:n&&n.$id,multiple:!0,onChange:this.onSelectChange,onBlur:u,onFocus:p,options:k,schema:t,value:b,disabled:c,readonly:l,formContext:E,autofocus:s,rawErrors:h})}}]),t}(m.a)},253:function(e,t,n){"use strict";var a=n(21),r=n(45),i=n(1),o=n.n(i),c=n(26);function l(e){var t=e.schema,n=e.name,i=e.uiSchema,l=e.idSchema,s=e.formData,u=e.required,d=e.disabled,p=e.readonly,m=e.autofocus,f=e.onChange,_=e.onBlur,h=e.onFocus,b=e.registry,g=void 0===b?Object(c.getDefaultRegistry)():b,O=e.rawErrors,y=t.title,v=t.format,E=g.widgets,j=g.formContext,w=void 0===j?{}:j,D=Object(c.isSelect)(t)&&Object(c.optionsList)(t),S=v||(D?"select":"text"),C=Object(c.getUiOptions)(i),k=C.widget,x=void 0===k?S:k,P=C.placeholder,M=void 0===P?"":P,T=Object(r.a)(C,["widget","placeholder"]),I=Object(c.getWidget)(t,x,E);return o.a.createElement(I,{options:Object(a.a)({},T,{enumOptions:D}),schema:t,id:l&&l.$id,label:void 0===y?n:y,value:s,onChange:f,onBlur:_,onFocus:h,required:u,disabled:d,readonly:p,formContext:w,autofocus:m,registry:g,placeholder:M,rawErrors:O})}l.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1},t.a=l},254:function(e,t,n){"use strict";var a=n(21),r=n(45),i=n(1),o=n.n(i),c=n(26);function l(e){var t=e.schema,n=e.name,i=e.uiSchema,l=e.idSchema,s=e.formData,u=e.registry,d=void 0===u?Object(c.getDefaultRegistry)():u,p=e.required,m=e.disabled,f=e.readonly,_=e.autofocus,h=e.onChange,b=e.rawErrors,g=t.title,O=d.widgets,y=d.formContext,v=void 0===y?{}:y,E=Object(c.getUiOptions)(i),j=E.widget,w=void 0===j?"checkbox":j,D=Object(r.a)(E,["widget"]),S=Object(c.getWidget)(t,w,O),C=Object(c.optionsList)({enum:[!0,!1],enumNames:t.enumNames||["yes","no"]});return console.log("---boolean----"),o.a.createElement(S,{options:Object(a.a)({},D,{enumOptions:C}),schema:t,id:l&&l.$id,onChange:h,label:void 0===g?n:g,value:s,required:p,disabled:m,readonly:f,registry:d,formContext:v,autofocus:_,rawErrors:b})}l.defaultProps={uiSchema:{},disabled:!1,readonly:!1,autofocus:!1},t.a=l},255:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n(513);var a=n(256),r=n(39),i=n(41),o=n(64),c=n(62),l=n(65),s=n(174),u=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidCatch",value:function(e,t){a.a.error({message:"Error: ".concat(this.props.idSchema.$id),description:e.toString(),duration:0})}}]),t}(n.n(s).a)},26:function(e,t,n){"use strict";n.d(t,"getWidget",function(){return p}),n.d(t,"getDefaultRegistry",function(){return f});var a=n(21),r=(n(184),n(120)),i=n(1),o=n.n(i),c=n(252),l=n(253),s=n(254),u=n(255),d=n(23);function p(){try{return d.getWidget.apply(void 0,arguments)}catch(t){return e=t.toString(),function(){return o.a.createElement(r.a,{message:e,type:"error",showIcon:!0})}}var e}function m(e){var t=e.id,n=e.title,a=e.required;return o.a.createElement("legend",{id:t},n,a?"*":null)}function f(){return{fields:Object(a.a)({},n(225).default,{ArrayField:c.a,StringField:l.a,BooleanField:s.a,TitleField:m,SchemaField:u.a}),widgets:n(228).default}}n.o(d,"getUiOptions")&&n.d(t,"getUiOptions",function(){return d.getUiOptions}),n.o(d,"isSelect")&&n.d(t,"isSelect",function(){return d.isSelect}),n.o(d,"optionsList")&&n.d(t,"optionsList",function(){return d.optionsList}),n.o(d,"retrieveSchema")&&n.d(t,"retrieveSchema",function(){return d.retrieveSchema})},260:function(module,__webpack_exports__,__webpack_require__){"use strict";var antd_es_icon_style_css__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(239),antd_es_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),ramda_src_compose__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71),ramda_src_compose__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(ramda_src_compose__WEBPACK_IMPORTED_MODULE_2__),D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35),antd_es_modal_style_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(552),antd_es_modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(264),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),mobx_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(36),mobx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(16),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(86),_style__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(261),confirm=antd_es_modal__WEBPACK_IMPORTED_MODULE_5__.a.confirm,EditExtra=Object(mobx_react__WEBPACK_IMPORTED_MODULE_7__.c)("schemaState","legao")(Object(mobx_react__WEBPACK_IMPORTED_MODULE_7__.d)(function(store){var legao=store.legao,schemaState=store.schemaState,id=store.id,relatedList=[],updataSchema=function updataSchema(prevSchema){var arr=id.replace(/_/g,"_properties_").split("_").slice(1),lastOne=arr.pop(),property=arr.reduce(function(r,n,k){return"properties"!==n&&(eval(r)[n].sortdata=eval(r)[n].sortdata.filter(function(e){return e!==lastOne})),0===k&&1===arr.length&&(prevSchema.sortdata=prevSchema.sortdata.filter(function(e){return e!==lastOne})),"".concat(r,'["').concat(n,'"]')},"prevSchema");return Reflect.deleteProperty(eval(property),lastOne),Object.entries(eval(property)).forEach(function(e){var t=Object(D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__.a)(e,2),n=t[0];(t[1].condition||"").includes(lastOne)&&relatedList.push(n)}),prevSchema},updateFormData=function(e){var t=id.split("_").slice(1);return t.reduce(function(e,n,a){if(a!==t.length-1)return e[n];relatedList.forEach(function(t){return delete e[t]}),delete e[n]},e),e};function showConfirm(){confirm({title:"\u63d0\u793a",content:"\u786e\u5b9a\u5220\u9664\u8be5\u7ec4\u4ef6\u5417\uff1f",onOk:function(){ramda_src_compose__WEBPACK_IMPORTED_MODULE_2___default()(schemaState.update,updataSchema,JSON.parse,JSON.stringify)(schemaState.jsonState),ramda_src_compose__WEBPACK_IMPORTED_MODULE_2___default()(schemaState.getData,mobx__WEBPACK_IMPORTED_MODULE_8__.k,_utils__WEBPACK_IMPORTED_MODULE_9__.a,updateFormData,JSON.parse,JSON.stringify)(schemaState.formData),schemaState.setVersion(schemaState.version+1)},onCancel:function(){}})}return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_style__WEBPACK_IMPORTED_MODULE_10__.a,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{type:"edit",theme:"twoTone",onClick:legao.change}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{type:"delete",theme:"twoTone",twoToneColor:"#ff0000",style:{marginLeft:10},onClick:showConfirm}))}));__webpack_exports__.a=EditExtra},261:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(24);function r(){var e=Object(a.a)(["\n  margin-left: 20px;\n  svg {\n    cursor: pointer;\n  }\n"]);return r=function(){return e},e}var i=n(25).b.span(r())},274:function(e,t,n){e.exports=n(558)},556:function(e,t,n){},557:function(e,t,n){},558:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(7),o=n.n(i),c=(n(279),n(268)),l=(n(281),n(262)),s=(n(283),n(179)),u=(n(88),n(28)),d=(n(285),n(73)),p=n(36),m=n(21),f=(n(287),n(180)),_=n(175),h=(n(294),n(245)),b=n(16),g=(n(184),n(120)),O=n(35),y=n(241),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(O.a)(t,2),r=n[0],i=n[1];return[r,function(e){i(function(t){return Object.assign({},t,e instanceof Function?e(t):e)})}]},E=(n(297),n(298),n(299),function(e){try{return JSON.parse(e)}catch(t){return!1}}),j=function(e){var t=e.version,n=e.type,i=e.source,o=e.isEdit,c=JSON.stringify(i,null,2),l={source:c,isValid:!o||E(c)},s=v(l),u=Object(O.a)(s,2),d=u[0],p=u[1];Object(a.useEffect)(function(){console.log("99999"),d.source!==l.source&&p(l)},[t,n]);var m=function(e){return{theme:e?"dracula":"default",height:"auto",viewportMargin:1/0,mode:{name:"javascript",json:!0,statementIndent:2},tabSize:2,indentWithTabs:!1,smartIndent:!0,lineNumbers:e,lineWrapping:!0,readOnly:!e}}(o);return r.a.createElement(r.a.Fragment,null,d.isValid?null:r.a.createElement(g.a,{type:"error",message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684 JSON \u683c\u5f0f",showIcon:!0,style:{margin:"10px 0"}}),r.a.createElement(y.UnControlled,{value:d.source,onChange:function(t,n,a){if(o){var r=e.onChange,i=E(a);p({isValid:i}),i&&r&&r(i)}},options:m}))},w=n(24),D=n(25);function S(){var e=Object(w.a)(["\n  height: 100%;\n"]);return S=function(){return e},e}var C=D.b.section(S());h.a.config({maxCount:1});var k=Object(p.c)("schemaState")(Object(p.d)(function(e){return r.a.createElement(C,{as:j,source:e.schemaState[e.type],onChange:function(t){e.schemaState.update(Object(b.k)(t))},isEdit:"jsonState"===e.type,version:e.schemaState.version,type:e.type})}));function x(){var e=Object(w.a)(["\n  & .ant-tabs-bar {\n    margin: 0;\n  }\n"]);return x=function(){return e},e}function P(){var e=Object(w.a)(["\n  background: white;\n  min-height: calc(100vh - "," - ",");\n"]);return P=function(){return e},e}var M=D.b.main(P(),"84px","70px"),T=D.b.div(x()),I=f.a.TabPane,A=function(e,t){return r.a.createElement(_.Sticky,{bottomOffset:80},function(n){var a=n.style;return r.a.createElement(t,Object.assign({},e,{style:Object(m.a)({},a,{zIndex:10,background:"#fff",top:64})}))})},L=function(){window.document.body.scrollTo({top:1e3,behavior:"smooth"})},N=function(){return r.a.createElement(M,null,r.a.createElement(_.StickyContainer,null,r.a.createElement(T,{as:f.a,defaultActiveKey:"1",renderTabBar:A,onChange:L},r.a.createElement(I,{tab:"JSONSchema",key:"1"},r.a.createElement(k,{type:"jsonState"})),r.a.createElement(I,{tab:"formData",key:"2"},r.a.createElement(k,{type:"formData"})))))},W=(n(114),n(63)),R=function(e){var t=e.items,n=e.className,a=e.onAddClick,i=e.canAdd,o=e.schema.minItems,c=void 0===o?1/0:o;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"".concat(n," react-magento-ul")},t&&t.map(function(e){var t=e.index,n=e.children,a=e.hasRemove,i=e.onDropIndexClick;e.onAddClick;return r.a.createElement("li",{key:t,className:"react-magento-li"},n,a&&t+1>c&&r.a.createElement(u.a,{onClick:i(t),shape:"circle",type:"danger",icon:"close"}))}),i&&r.a.createElement("li",{className:"react-magento-li_add",key:"react-magento-add"},r.a.createElement(u.a,{onClick:a,type:"primary",shape:"circle",icon:"plus"}))))},B=W.a.Item;var q=function(e){e.id;var t,n=e.schema,a=e.uiSchema,i=e.children,o=e.label,c=e.required,l=e.rawHelp,s=e.rawErrors,u=null;if(t=n.type,(Array.isArray(t)?2===t.length&&t.includes("null")&&t.includes("object"):"object"===t)&&!a.hasOwnProperty("ui:field"))return i;n.hasOwnProperty("layout")&&(u=n.layout);var d=s&&s.length?"error":"success",p=s&&s.length?s.join(";"):l;return r.a.createElement(B,Object.assign({},u,{label:o,required:c,help:p,validateStatus:d}),i)},U=n(39),F=n(41),K=n(64),V=n(62),H=n(65),J=n(172),z=n.n(J),$=n(26),G=function(e){function t(){return Object(U.a)(this,t),Object(K.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(F.a)(t,[{key:"getRegistry",value:function(){var e=Object($.getDefaultRegistry)(),t=e.fields,n=e.widgets,a=this.props,r=a.fields,i=a.widgets,o=a.ArrayFieldTemplate,c=a.ObjectFieldTemplate,l=a.FieldTemplate,s=a.schema,u=a.formContext;return{fields:Object(m.a)({},t,r),widgets:Object(m.a)({},n,i),definitions:Object(m.a)({},s.definitions),formContext:Object(m.a)({},u),ArrayFieldTemplate:o,ObjectFieldTemplate:c,FieldTemplate:l}}}]),t}(z.a);function Q(){var e=Object(w.a)(["\n  .react-magento-ul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  }\n  .react-magento-li {\n    display: flex;\n    align-items: flex-start;\n\n    & > :first-child {\n      flex: 1;\n    }\n  }\n  .react-magento {\n    & fieldset {\n      padding: 0;\n      fieldset {\n        margin-top: 30px;\n      }\n    }\n  }\n"]);return Q=function(){return e},e}var X=Object(D.a)(Q()),Y=function(e){function t(){return Object(U.a)(this,t),Object(K.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.safeRenderCompletion,i=t.id,o=t.idPrefix,c=t.className,l=t.name,s=t.method,u=t.target,d=t.action,p=t.autocomplete,m=t.enctype,f=t.acceptcharset,_=t.noHtml5Validate,h=t.disabled,b=this.state,g=b.schema,O=b.uiSchema,y=b.formData,v=b.errorSchema,E=b.idSchema,j=this.getRegistry(),w=j.fields.SchemaField,D={layout:"horizontal"};return g.hasOwnProperty("formOpt")&&(D=g.formOpt),r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(W.a,Object.assign({},D,{className:c||"rjsf",id:i,name:l,method:s,target:u,action:d,autoComplete:p,encType:m,acceptCharset:f,noValidate:_,onSubmit:this.onSubmit,ref:function(t){e.formElement=t}}),this.renderErrors(),r.a.createElement(w,{schema:g,uiSchema:O,errorSchema:v,idSchema:E,idPrefix:o,formData:y,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:j,safeRenderCompletion:a,disabled:h}),n))}}]),t}(G),Z=function(e){var t=e.title,n=e.properties;return r.a.createElement("fieldset",null,r.a.createElement("legend",null,t),n.map(function(e){return r.a.createElement(r.a.Fragment,{key:e.content.key},e.content)}))},ee=(n(515),n(265)),te=(n(517),n(258)),ne=(n(559),n(263)),ae=(n(523),n(266)),re=(n(233),n(182)),ie=n(45),oe=(n(560),n(181)),ce=oe.a.Option;new Set(["number","integer"]);var le=function(e){var t=e.options,n=void 0===t?{}:t,a=e.enumOptions,i=e.uiSchema,o=(e.updateItemData,e.validate,e.placeholder),c=e.formItemMeta,l=Object(ie.a)(e,["options","enumOptions","uiSchema","updateItemData","validate","placeholder","formItemMeta"]),s=(i||{}).readonly,u=void 0!==s&&s,d=(c&&c.getIn(["options","widget","select"]),n.enumDisabled),p=void 0===d?[]:d;return r.a.createElement(oe.a,Object.assign({disabled:u,placeholder:o},function(){var e={};return void 0!==e.formItemData&&(e.defaultValue=e.formItemData),{options:e}}(),l),a.map(function(e,t){var n=e.value,a=e.label,i=p&&-1!=p.indexOf(n);return r.a.createElement(ce,{key:t,value:n,disabled:i},a)}))},se=(n(535),n(269));function ue(e){return!!e&&(!!e.const||(!(!e.enum||1!==e.enum.length||!0!==e.enum[0])||(e.anyOf&&1===e.anyOf.length?ue(e.anyOf[0]):e.oneOf&&1===e.oneOf.length?ue(e.oneOf[0]):e.allOf?e.allOf.some(ue):void 0)))}var de=function(e){var t=e.schema,n=(e.id,e.value),a=e.disabled,i=e.readonly,o=e.label,c=(e.autofocus,e.onBlur,e.onFocus,e.onChange);ue(t);return console.log(e),r.a.createElement(se.a,{checked:"undefined"!==typeof n&&n,disabled:a||i,onChange:function(e){return c(e.target.checked)}},o)},pe=n(56),me=n(86),fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transformValue,a=void 0===n?me.c:n,i=t.fromValue,o=void 0===i?me.c:i,c=t.valuePropName,l=void 0===c?"value":c,s=t.style,u=void 0===s?{width:260}:s,d=(t.type,Object(ie.a)(t,["transformValue","fromValue","valuePropName","style","type"]));return function(t){var n,i=t.value,c=t.onChange,s=t.placeholder,p=t.options,f=t.schema,_=t.label,h=p.enumOptions,b=p.width,g=p.schema_format,O=Object(ie.a)(p,["enumOptions","width","schema_format"]),y=Object(m.a)({},u,void 0!==b?{width:b}:{}),v=Object(m.a)({},O,(n={style:y},Object(pe.a)(n,l,o(i,f,{schema_format:g})),Object(pe.a)(n,"placeholder",s),Object(pe.a)(n,"label",_),Object(pe.a)(n,"onChange",function(e){var t=a("object"===typeof e?e.target.value:e,f,{schema_format:g});c(Object(me.b)(t)?void 0:t)}),n));return["autoFocus","disabled"].forEach(function(e){v[e]=f&&f[e.toLowerCase()]||!1}),h&&h.length>0&&(v.enumOptions=h),f&&f.maxLength&&(v.maxLength=f.maxLength),!s&&f.title&&(v.placeholder="\u8bf7\u586b\u5199".concat(f.title)),f&&f.max&&(v.max=f.max),f&&f.min&&(v.min=f.min),f&&f.step&&(v.step=f.step),r.a.createElement(e,Object.assign({},d,v))}},_e=re.a.TextArea,he=(ae.a.Group,{TextWidget:fe(re.a,{transformValue:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim()}}),DateWidget:function(e){return r.a.createElement(ne.a,e)},TextareaWidget:fe(_e),SelectWidget:fe(le),SwitchWidget:function(e){return r.a.createElement(te.a,e)},CheckboxWidget:fe(de),UpDownWidget:fe(ee.a)}),be=n(126),ge=n.n(be),Oe=n(125),ye=n.n(Oe),ve=n(267),Ee=n(71),je=n.n(Ee),we=function e(t){var n=this;Object(U.a)(this,e),this.source={},this.prettyData={},this.pathId=[],this.Trans_Map=new Map([["component","ui:widget"],["autofocus","ui:autofocus"],["placeholder","ui:placeholder"],["className","classNames"],["condition","ui:conditions"],["sortdata","ui:order"],["props","ui:options"]]),this.keyHandler=function(e,t,n){return Object.keys(e).forEach(function(a){return t.push(a)&&n(e[a])})},this.pipeData=function(e,t,a){return function(t){return je()(n.separate(e,a,t),n.filterData,Object.keys)(t)}},this.separate=function(e,t,a){return function(r){var i=t.pop();n.prettyMap(n.prettyData,t,r,i,a),n.formatSource(t,a,i,e)}},this.prettyMap=function(e,t,a,r,i){if(a.length){var o=e,c=t.filter(function(e){return"properties"!==e}),l="".concat(n.Trans_Map.get("sortdata")),s=n.source.sortdata;s&&s.length&&(e[l]=s),c.length&&c.reduce(function(e,a,r){var i=n.source,s=!0,u=!1,d=void 0;try{for(var p,m=t[Symbol.iterator]();!(s=(p=m.next()).done);s=!0){var f=p.value;if(i=i[f],f===a)break}}catch(h){u=!0,d=h}finally{try{s||null==m.return||m.return()}finally{if(u)throw d}}if(e[a]=e[a]||{},r===c.length-1){var _=i.sortdata;_&&_.length&&(e[a][l]=_),o=e[a]}return e[a]},e),a.forEach(function(a){var c=n.Trans_Map.get(a);"condition"===a?(e[c]=e[c]||[],e[c].push({path:[].concat(Object(ve.a)(t),[r]).join("_"),condition:i[a]})):o[r]=Object.assign(o[r]||{},Object(pe.a)({},c,i[a]))})}},this.formatSource=function(e,t,a,r){n.formatRequire(e,t,a,r)},this.formatRequire=function(e,t,n,a){var r=e.length-1;"properties"===e[r]&&t.required&&e.reduce(function(e,t,a){return r?a===r-1&&(e[t]=Object.assign(e[t]||{},{required:e[t].required||[]}),!e[t].required.includes(n)&&e[t].required.push(n)):(e.required=e.required||[],!e.required.includes(n)&&e.required.push(n)),e[t]},a)},this.filterData=ye()(ge.a,function(e){return e.filter(function(e){return n.Trans_Map.has(e)})}),this.conditionHandler=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[],n=!1,a=!1;return e.includes("||")?(t=e.split("||"),n=!1,a=!1):-1!==e.indexOf("&&")?(t=e.split("&&"),n=!0,a=!0):(t=[e],n=!0,a=!0),{rules:t,allHaveToMatch:n,visible:a}},this.ruleHandler=function(e){var t,n=[];if(e.includes("!=")?(n=e.split("!="),t=!0):e.includes("=")&&(n=e.split("="),t=!1),2!==n.length)return!1;var a=n,r=Object(O.a)(a,2),i=r[0],o=r[1];return{field:i,values:o=o.split(","),invert:t}},this.init=function(e){if(e.hasOwnProperty("properties"))n.pathId.push("properties"),n.keyHandler(e.properties,n.pathId,n.init);else{var t=Object.keys(e).find(function(t){return e[t].hasOwnProperty("properties")});t?n.keyHandler(e[t].properties,n.pathId,n.init):n.pipeData(n.source,n.prettyData,n.pathId)(e)}},this.calcuSchema=function(e){var t=n.prettyData["ui:conditions"];if(!t||!t.length||!Object.keys(e))return{source:n.source,prettyData:n.prettyData};var a=JSON.parse(JSON.stringify(n.source));return t.forEach(function(t){var r=t.path,i=t.condition,o=n.conditionHandler(i),c=o.rules,l=o.allHaveToMatch,s=r.replace(/properties_/g,"").split("_"),u=s.pop(),d=s.reduce(function(e,t){return e[t]},e),p=[];c.forEach(function(e){var t=n.ruleHandler(e),a=t.field,r=t.values,i=t.invert,o=i,c=r.map(function(e){return"true"===e?e=!0:"false"===e&&(e=!1),e});if(a&&d&&d.hasOwnProperty(a)){var l=[].concat(d[a]);c.forEach(function(e){var t=l.includes(e);o=i?o&&!t:o||t})}p.push(o)});var m=!1;p.length&&(m=l?p.every(Boolean):p.some(Boolean));var f=r.split("_").slice(0,-1),_=f.reduce(function(e,t){return e[t]},a),h=f.reduce(function(e,t){return e[t]},n.source);m?_[u]=h[u]:delete _[u]}),console.log(e,"----\x3e"),{schema:a,uiSchema:n.prettyData}},this.source=t,this.init(this.source)};we.of=function(e){return new we(e)};var De=W.a.Item,Se=Y,Ce={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:6}}},ke=function(e){var t=e.schema,n=e.onSubmit,a=(e.uiSchema,e.disableSubmit),i=void 0!==a&&a,o=e.formData,c=e.onCancel,l=e.widgets,s=e.fields,d=e.onChange,p=e.formContext,f=e.liveValidate,_=e.children,h=e.validate,b=e.className,g=e.FieldTemplate,O=JSON.parse(JSON.stringify(t)),y=(0,we.of(O).calcuSchema)(o),v=y.schema,E=y.uiSchema;return console.warn({newSchema:v,newUiSchema:E}),r.a.createElement(Se,{schema:v,uiSchema:E,formData:o,widgets:Object(m.a)({},he,l),fields:Object(m.a)({},s),ArrayFieldTemplate:R,FieldTemplate:g||q,ObjectFieldTemplate:Z,className:"react-magento ".concat(b||""),onSubmit:n,showErrorList:!1,onChange:d,formContext:p,liveValidate:f,noHtml5Validate:!0,validate:h},_||r.a.createElement(De,Ce,r.a.createElement(u.a,{type:"primary",htmlType:"submit",disabled:i},"\u63d0\u4ea4"),r.a.createElement(u.a,{style:{marginLeft:20},onClick:c},"\u8fd4\u56de")))},xe=n(260),Pe=W.a.Item;var Me=function(e){var t,n=e.id,a=e.schema,i=e.uiSchema,o=e.children,c=e.label,l=e.required,s=e.rawHelp,u=e.rawErrors,d=null;if(t=a.type,(Array.isArray(t)?2===t.length&&t.includes("null")&&t.includes("object"):"object"===t)&&!i.hasOwnProperty("ui:field"))return o;a.hasOwnProperty("layout")&&(d=a.layout);var p=u&&u.length?"error":"success",m=u&&u.length?u.join(";"):s;return r.a.createElement(Pe,Object.assign({},d,{label:c,required:l,help:m,validateStatus:p}),o,r.a.createElement(xe.a,{id:n}))},Te=function(e){return console.log.bind(console,e)},Ie=Object(p.c)("schemaState")(Object(p.d)(function(e){var t=e.schemaState,n=t.getData,a=t.setVersion,i=t.version,o=t.jsonState,c=t.formData;return r.a.createElement(ke,{schema:o,formData:c,FieldTemplate:Me,onChange:function(e){n(Object(b.k)(e.formData)),a(i+1)},onSubmit:Te("submitted"),onError:Te("errors")})}));function Ae(){var e=Object(w.a)(["\n  background: white;\n  min-height: calc(100vh - "," - ",");\n  padding: 20px 30px;\n"]);return Ae=function(){return e},e}var Le,Ne,We,Re,Be,qe,Ue,Fe,Ke,Ve,He,Je=D.b.main(Ae(),"84px","70px"),ze=function(){return r.a.createElement(Je,null,r.a.createElement(Ie,null))},$e=(n(239),n(8)),Ge=(n(561),n(103)),Qe=Ge.b.SubMenu,Xe=function(e){var t=Object.keys(he).map(function(e){return e.replace(/Widget/g,"")});return r.a.createElement(Ge.b,{theme:"dark",mode:"inline",defaultSelectedKeys:["input"],onClick:function(t){e.onOpen(t.key)},defaultOpenKeys:["antd"]},r.a.createElement(Qe,{key:"antd",title:r.a.createElement("span",null,r.a.createElement($e.a,{type:"mail"}),r.a.createElement("span",null,"Antd \u98ce\u683c"))},r.a.createElement(Ge.b.ItemGroup,{key:"form",title:"\u8868\u5355\u7cfb\u5217"},t.map(function(e){return r.a.createElement(Ge.b.Item,{key:e},e)}))))},Ye=n(72),Ze=n(47),et=(n(240),new(Le=b.b.bound,Ne=function(){function e(){Object(U.a)(this,e),Object(Ye.a)(this,"depict",We,this),Object(Ye.a)(this,"keyName",Re,this)}return Object(F.a)(e,[{key:"change",value:function(e){this.depict=!this.depict,this.keyName=e||""}}]),e}(),We=Object(Ze.a)(Ne.prototype,"depict",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Re=Object(Ze.a)(Ne.prototype,"keyName",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(Ze.a)(Ne.prototype,"change",[Le],Object.getOwnPropertyDescriptor(Ne.prototype,"change"),Ne.prototype),Ne)),tt={schemaState:new(Be=b.b.bound,qe=b.b.bound,Ue=b.b.bound,Fe=function(){function e(){var t=this;Object(U.a)(this,e),Object(Ye.a)(this,"jsonState",Ke,this),Object(Ye.a)(this,"formData",Ve,this),Object(Ye.a)(this,"version",He,this),Object(b.c)(function(){return console.log(t.jsonState)})}return Object(F.a)(e,[{key:"update",value:function(e){this.jsonState=e}},{key:"getData",value:function(e){console.log("hhhhhh",e),this.formData=e}},{key:"setVersion",value:function(e){this.version=e}}]),e}(),Ke=Object(Ze.a)(Fe.prototype,"jsonState",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{title:"Todo",type:"object",sortdata:["description","name","*"],formOpt:{layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18}},properties:{name:{type:"string",title:"\u540d\u5b57",default:"kico",required:!0,layout:{labelCol:{span:4},wrapperCol:{span:14,offset:6}}},description:{type:"string",title:"\u63cf\u8ff0",minLength:30,component:"textarea",className:"test"},otherinfo:{title:"\u5176\u4ed6\u4fe1\u606f",type:"object",sortdata:["done","*"],properties:{age:{type:"integer",min:50,max:100,component:"updown",step:10,autofocus:!0,placeholder:"\u6211\u5c31\u662f\u8fd9\u4e48\u6dd8\u6c14\uff5e"},done:{type:"boolean",title:"\u5b8c\u6210",required:!0,default:!0,disabled:!0},location:{type:"string",title:"\u5730\u7406\u4f4d\u7f6e",enum:["us","nordic","other"],enumNames:["US","Nordic country","Other"]},county:{type:"string",title:"\u56fd\u5bb6",enum:["CN","other"],enumNames:["\u4e2d\u56fd","\u5176\u4ed6"],props:{inline:!0}},state:{type:"string",default:"bj",condition:"county=CN",title:"\u57ce\u5e02",enum:["bj","fj","sz"],enumNames:["\u5317\u4eac","\u798f\u5efa","\u6df1\u5733"]}}}}}}}),Ve=Object(Ze.a)(Fe.prototype,"formData",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),He=Object(Ze.a)(Fe.prototype,"version",[b.k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(Ze.a)(Fe.prototype,"update",[Be],Object.getOwnPropertyDescriptor(Fe.prototype,"update"),Fe.prototype),Object(Ze.a)(Fe.prototype,"getData",[qe],Object.getOwnPropertyDescriptor(Fe.prototype,"getData"),Fe.prototype),Object(Ze.a)(Fe.prototype,"setVersion",[Ue],Object.getOwnPropertyDescriptor(Fe.prototype,"setVersion"),Fe.prototype),Fe),legao:et},nt=function(e){return console.log.bind(console,e)},at=Object(p.c)("schemaState","legao")(Object(p.d)(function(e){var t=Object(a.useState)({}),n=Object(O.a)(t,2),i=n[0],o=n[1];return r.a.createElement(ke,{schema:{type:"object",formOpt:{layout:"horizontal",labelCol:{span:6},wrapperCol:{span:18}},properties:{key:{type:"string",title:"key \u540d\u79f0",required:!0},label:{type:"string",title:"label \u540d\u79f0",required:!0},type:{title:"\u7ec4\u4ef6\u7c7b\u578b",required:!0,type:"string",enum:["input","textArea","switch","select","checkbox"],enumNames:["input","textArea","switch","select","checkbox"]},isRequire:{title:"\u662f\u5426\u5fc5\u586b",required:!0,type:"boolean"},default:{title:"\u9ed8\u8ba4\u503c",type:"string"},layout:{type:"string",title:"\u5e03\u5c40",enum:["none","labelCol","wrapperCol"]},labelCol:{$ref:"#/definitions/col",condition:"layout=labelCol"},wrapperCol:{$ref:"#/definitions/col",condition:"layout=wrapperCol"},className:{type:"string",title:"className"},options:{title:"\u9009\u9879",type:"array",items:{type:"string"}}},definitions:{col:{type:"array",minItems:0,items:{type:"object",title:"labelCol",properties:{colName:{type:"string",title:"\u5c5e\u6027",enum:["offset","order","pull","push","span","xs","sm","md","lg","xl","xxl"]},number:{type:"integer",title:"\u6570\u503c"}},dependencies:{colName:["number"],number:["colName"]}}}}},formData:i,onChange:function(e){o(e.formData)},onSubmit:nt("submitted"),onError:nt("errors")})}));function rt(){var e=Object(w.a)(["\n  text-align: center;\n  height: ",";\n  overflow: hidden;\n"]);return rt=function(){return e},e}function it(){var e=Object(w.a)(["\n  padding-left: 20px;\n"]);return it=function(){return e},e}function ot(){var e=Object(w.a)([""]);return ot=function(){return e},e}function ct(){var e=Object(w.a)(["\n  padding: 24;\n  background: #fff;\n  textalign: center;\n"]);return ct=function(){return e},e}function lt(){var e=Object(w.a)(["\n  margin: "," 16px 0;\n  overflow: initial;\n"]);return lt=function(){return e},e}function st(){var e=Object(w.a)(["\n  position: fixed;\n  z-index: 10;\n  width: 100%;\n  background: #f7f8fa;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 3px 0px,\n    rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\n"]);return st=function(){return e},e}function ut(){var e=Object(w.a)(["\n  overflow: auto;\n  height: 100vh;\n  position: fixed;\n  left: 0;\n"]);return ut=function(){return e},e}var dt=D.b.div(ut()),pt=D.b.div(st()),mt=D.b.div(lt(),"84px"),ft=D.b.div(ct()),_t=Object(D.b)(ft)(ot()),ht=D.b.div(it()),bt=D.b.div(rt(),"70px"),gt=d.a.Header,Ot=(d.a.Content,d.a.Footer),yt=d.a.Sider;Object(b.e)({enforceActions:"observed"});var vt=function(){return r.a.createElement(p.b,tt,r.a.createElement(d.a,null,r.a.createElement(dt,{as:yt},r.a.createElement("div",{className:"logo"}),r.a.createElement(Xe,{onOpen:tt.legao.change})),r.a.createElement(d.a,{style:{marginLeft:200}},r.a.createElement(pt,{as:gt},r.a.createElement(u.a,{type:"primary",icon:"smile",loading:!1},"\u751f\u6210\u4ee3\u7801"),r.a.createElement(u.a,{type:"danger",icon:"delete",style:{marginLeft:30}},"\u91cd\u7f6e\u9875\u9762")),r.a.createElement(mt,{as:l.a,gutter:16},r.a.createElement(ht,{as:s.a,span:18,style:{paddingLeft:20}},r.a.createElement(_t,{as:ze})),r.a.createElement(ht,{as:s.a,span:6,style:{paddingRight:20}},r.a.createElement(ft,{as:N}))),r.a.createElement(bt,{as:Ot},"React Magento \xa92019 Created by Kicoyu")),r.a.createElement(p.a,null,function(){return r.a.createElement(c.a,{title:"\u914d\u7f6e\u8868\u5355\u5c5e\u6027",width:420,onClose:tt.legao.change,visible:tt.legao.depict},r.a.createElement(at,{onClose:tt.legao.change}))})))},Et=(n(556),function(){return r.a.createElement("div",{className:"App"},r.a.createElement(vt,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(557);o.a.render(r.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return d});var a=n(35),r=(n(71),n(126)),i=n.n(r),o=n(125),c=n.n(o),l=function(e){return!e||!String(e).trim()},s=function(){return arguments.length<=0?void 0:arguments[0]},u=new Map([["component","ui:widget"],["className","classNames"],["condition","condition"],["sortdata","ui:order"],["props","ui:options"]]),d=(c()(i.a,function(e){return e.filter(function(e){return u.has(e)})}),function e(t){return Object.fromEntries(Object.entries(t).filter(function(e){var t=Object(a.a)(e,2),n=(t[0],t[1]);return null!=n&&""!==n&&"{}"!==JSON.stringify(n)}).map(function(t){var n=Object(a.a)(t,2),r=n[0],i=n[1];return"object"===typeof i?[r,e(i)]:[r,i]}))})}},[[274,1,2]]]);
//# sourceMappingURL=main.df9c6412.chunk.js.map