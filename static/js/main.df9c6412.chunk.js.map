{"version":3,"sources":["core/GenArrayField.jsx","core/GenStringField.jsx","core/GenBooleanField.jsx","core/GenSchemaField.jsx","core/index.js","components/EditExtra/index.tsx","components/EditExtra/style.js","Hooks/useSetState.tsx","core/JsonEditor.jsx","components/FormSchema/style.js","components/FormSchema/index.tsx","components/FormCreate/style.js","assets/css/_variable.js","components/FormCreate/index.tsx","core/antd/theme/array.tsx","core/antd/theme/field.tsx","core/GenForm.tsx","core/antd/theme/style.js","core/antd/theme/form.tsx","core/antd/theme/object.tsx","core/antd/select/index.tsx","core/antd/checkbox/index.tsx","core/antd/widget/widgetHoc.tsx","core/antd/widget/index.tsx","core/FormatSchema.ts","core/antd/index.tsx","exmaple/Field.jsx","exmaple/index.jsx","components/FormView/style.js","components/FormView/index.tsx","components/Asider/index.tsx","stores/legao.ts","stores/index.ts","stores/schema.ts","components/Depict/index.tsx","view/style.js","view/index.tsx","App.tsx","serviceWorker.ts","index.tsx","utils/index.ts"],"names":["GenArrayField","_this$props","this","props","schema","idSchema","uiSchema","formData","disabled","readonly","autofocus","onBlur","onFocus","_this$props$registry","registry","getDefaultRegistry","rawErrors","items","widgets","_registry$definitions","definitions","_registry$formContext","formContext","itemsSchem","retrieveSchema","enumOptions","optionsList","_getUiOptions$enumOpt","Object","D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","getUiOptions","_getUiOptions$enumOpt2","widget","options","D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","Widget","getWidget","console","log","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","id","$id","multiple","onChange","onSelectChange","value","ArrayField","GenStringField","name","required","_props$registry","title","format","isSelect","defaultWidget","_getUiOptions","_getUiOptions$widget","_getUiOptions$placeho","placeholder","react__WEBPACK_IMPORTED_MODULE_2___default","label","undefined","defaultProps","GenBooleanField","enum","enumNames","PatchedSchemaField","error","info","antd_es_notification__WEBPACK_IMPORTED_MODULE_1__","message","concat","description","toString","duration","SchemaField","__getWidget","apply","arguments","e","msg","react__WEBPACK_IMPORTED_MODULE_3___default","antd_es_alert__WEBPACK_IMPORTED_MODULE_2__","type","showIcon","TitleField","fields","require","default","StringField","BooleanField","confirm","antd_es_modal__WEBPACK_IMPORTED_MODULE_5__","EditExtra","inject","observer","store","legao","schemaState","relatedList","updataSchema","prevSchema","arr","replace","split","slice","lastOne","pop","property","reduce","r","n","k","eval","filter","x","length","sortdata","Reflect","deleteProperty","entries","forEach","_ref","_ref2","D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","condition","includes","push","updateFormData","prevFormData","i","showConfirm","content","onOk","ramda_src_compose__WEBPACK_IMPORTED_MODULE_2___default","update","JSON","parse","stringify","jsonState","getData","observable","deleteEmpty","setVersion","version","onCancel","react__WEBPACK_IMPORTED_MODULE_6___default","_style__WEBPACK_IMPORTED_MODULE_10__","antd_es_icon__WEBPACK_IMPORTED_MODULE_1__","theme","onClick","change","twoToneColor","style","marginLeft","IconWrap","styled","span","_templateObject","useSetState","initState","_useState","useState","_useState2","slicedToArray","state","set","patch","prevState","assign","Function","checkValid","source","JsonSchema","initSource","isEdit","isValid","_useSetState","_useSetState2","setState","useEffect","renderOpt","height","viewportMargin","Infinity","mode","json","statementIndent","tabSize","indentWithTabs","smartIndent","lineNumbers","lineWrapping","readOnly","react_default","Fragment","es_alert","margin","react_codemirror2","editor","data","Content","section","config","maxCount","FormSchema","as","JsonEditor","main","style_templateObject","Schema","div","_templateObject2","TabPane","renderTabBar","DefaultTabBar","lib","bottomOffset","objectSpread","zIndex","background","top","callback","window","document","body","scrollTo","behavior","FormCreate","style_Content","tabs","defaultActiveKey","tab","key","components_FormSchema","MagentoArrayTheme","className","onAddClick","canAdd","_props$schema$minItem","minItems","map","index","children","hasRemove","onDropIndexClick","es_button","shape","icon","FormItem","es_form","Item","MagentoFieldTheme","rawHelp","formItemLayout","Array","isArray","hasOwnProperty","layout","validateStatus","help","join","GenForm","_getDefaultRegistry","defaultFields","defaultWidgets","_props","ArrayFieldTemplate","ObjectFieldTemplate","FieldTemplate","Form","GlobalStyle","createGlobalStyle","theme_style_templateObject","MagentoForm","_GenForm","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","_this","safeRenderCompletion","idPrefix","method","target","action","autocomplete","enctype","acceptcharset","noHtml5Validate","_state","errorSchema","getRegistry","_SchemaField","formLayout","formOpt","autoComplete","encType","acceptCharset","noValidate","onSubmit","ref","form","formElement","renderErrors","MagentoObjectTheme","properties","prop","Option","Set","AntdSelect","_props$options","updateItemData","validate","formItemMeta","resetProps","objectWithoutProperties","_ref$readonly","_options$enumDisabled","getIn","enumDisabled","es_select","formItemData","defaultValue","setDefaultProps","indexOf","schemaRequiresTrueValue","const","anyOf","oneOf","allOf","some","AntdCheckbox","es_checkbox","checked","event","withWidget","_ref$transformValue","transformValue","noop","_ref$fromValue","fromValue","_ref$valuePropName","valuePropName","_ref$style","width","restOption","_objectSpread2","schema_format","restProps","widgetStyle","widgetProps","defineProperty","formatVal","isStringNull","item","toLowerCase","maxLength","max","min","step","TextArea","es_radio","Group","TextWidget","widgetHoc","input","trim","DateWidget","date_picker","TextareaWidget","SelectWidget","SwitchWidget","es_switch","CheckboxWidget","UpDownWidget","input_number","FormatSchema","prettyData","pathId","Trans_Map","Map","keyHandler","obj","fn","keys","pipeData","path","compose_default","separate","filterData","parentName","prettyMap","formatSource","renderNode","formatArr","get","initOrder","temp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","hasOrder","matchName","toConsumableArray","formatRequire","LEN","memoizeWith_default","identity_default","_","has","conditionHandler","rules","allHaveToMatch","visible","ruleHandler","conditionRule","invert","rule","field","values","init","find","calcuSchema","conditionSchema","newSchema","_ref3","_this$conditionHandle","pathArr","curName","parentObj","c","matches","_ref4","stringValues","currentValues","isContain","shouldBeVisible","every","Boolean","pathList","newProp","oldProp","of","FormFactory","wrapperCol","xs","offset","sm","AntdForm","_props$disableSubmit","disableSubmit","liveValidate","oldData","_calcuSchema","newUiSchema","warn","magentoWidget","showErrorList","antd_FormItem","htmlType","Field","Field_FormItem","bind","_ref$schemaState","antd","onError","FormView_style_templateObject","FormView","FormView_style_Content","exmaple","SubMenu","widgetList","menu","defaultSelectedKeys","onOpen","defaultOpenKeys","ItemGroup","bound","depict","keyName","stores","SchemaState","initializerDefineProperty","schema_descriptor","schema_descriptor2","_descriptor3","autorun","result","labelCol","minLength","component","otherinfo","age","location","county","inline","Depict","isRequire","$ref","col","colName","number","dependencies","Fsider","view_style_templateObject","Fheader","style_templateObject2","Fcontent","_templateObject3","FformCreate","_templateObject4","FformView","_templateObject5","FCol","_templateObject6","Ffooter","_templateObject7","Header","Footer","Sider","configure","enforceActions","FrameUI","mobx_react_module","Asider","loading","row","gutter","paddingLeft","paddingRight","drawer","onClose","components_Depict","App","view","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister","str","String","ramda_src_memoizeWith__WEBPACK_IMPORTED_MODULE_3___default","ramda_src_identity__WEBPACK_IMPORTED_MODULE_2___default","fromEntries","D_workHook_yus_react_magento_git_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","v"],"mappings":"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","file":"static/js/main.df9c6412.chunk.js","sourcesContent":["import React from 'react';\r\nimport ArrayField from 'react-jsonschema-form/lib/components/fields/ArrayField';\r\n\r\n// getUiOptions:\r\n// get all passed options from ui:widget, ui:options, and ui:<optionName>\r\n\r\n// optionsList:\r\n// 获取enum，oneOf，anyOf\r\n\r\nimport {\r\n  getWidget,\r\n  getUiOptions,\r\n  optionsList,\r\n  retrieveSchema,\r\n  getDefaultRegistry\r\n} from '.';\r\n\r\nexport default class GenArrayField extends ArrayField {\r\n  renderMultiSelect() {\r\n    const {\r\n      schema,\r\n      idSchema,\r\n      uiSchema,\r\n      formData,\r\n      disabled,\r\n      readonly,\r\n      autofocus,\r\n      onBlur,\r\n      onFocus,\r\n      registry = getDefaultRegistry(),\r\n      rawErrors\r\n    } = this.props;\r\n    const items = this.props.formData;\r\n    const { widgets, definitions = {}, formContext = {} } = registry;\r\n    const itemsSchem = retrieveSchema(schema.items, definitions, formData);\r\n    const enumOptions = optionsList(itemsSchem);\r\n    const { widget = 'select', ...options } = {\r\n      ...getUiOptions(uiSchema),\r\n      enumOptions\r\n    };\r\n    const Widget = getWidget(schema, widget, widgets);\r\n    console.log('---array----')\r\n    return (\r\n      <Widget\r\n        id={idSchema && idSchema.$id}\r\n        multiple\r\n        onChange={this.onSelectChange}\r\n        onBlur={onBlur}\r\n        onFocus={onFocus}\r\n        options={options}\r\n        schema={schema}\r\n        value={items}\r\n        disabled={disabled}\r\n        readonly={readonly}\r\n        formContext={formContext}\r\n        autofocus={autofocus}\r\n        rawErrors={rawErrors}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n  getWidget,\r\n  getUiOptions,\r\n  isSelect,\r\n  optionsList,\r\n  getDefaultRegistry\r\n} from '.';\r\n\r\nfunction GenStringField(props) {\r\n  const {\r\n    schema,\r\n    name,\r\n    uiSchema,\r\n    idSchema,\r\n    formData,\r\n    required,\r\n    disabled,\r\n    readonly,\r\n    autofocus,\r\n    onChange,\r\n    onBlur,\r\n    onFocus,\r\n    registry = getDefaultRegistry(),\r\n    rawErrors\r\n  } = props;\r\n  const { title, format } = schema;\r\n  const { widgets, formContext = {} } = registry;\r\n  const enumOptions = isSelect(schema) && optionsList(schema);\r\n  const defaultWidget = format || (enumOptions ? 'select' : 'text');\r\n  const { widget = defaultWidget, placeholder = '', ...options } = getUiOptions(\r\n    uiSchema\r\n  );\r\n  const Widget = getWidget(schema, widget, widgets);\r\n\r\n  return (\r\n    <Widget\r\n      options={{ ...options, enumOptions }}\r\n      schema={schema}\r\n      id={idSchema && idSchema.$id}\r\n      label={title === undefined ? name : title}\r\n      value={formData}\r\n      onChange={onChange}\r\n      onBlur={onBlur}\r\n      onFocus={onFocus}\r\n      required={required}\r\n      disabled={disabled}\r\n      readonly={readonly}\r\n      formContext={formContext}\r\n      autofocus={autofocus}\r\n      registry={registry}\r\n      placeholder={placeholder}\r\n      rawErrors={rawErrors}\r\n    />\r\n  );\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  GenStringField.propTypes = {\r\n    schema: PropTypes.object.isRequired,\r\n    uiSchema: PropTypes.object.isRequired,\r\n    idSchema: PropTypes.object,\r\n    onChange: PropTypes.func.isRequired,\r\n    onBlur: PropTypes.func,\r\n    onFocus: PropTypes.func,\r\n    formData: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    registry: PropTypes.shape({\r\n      widgets: PropTypes.objectOf(\r\n        PropTypes.oneOfType([PropTypes.func, PropTypes.object])\r\n      ).isRequired,\r\n      fields: PropTypes.objectOf(PropTypes.func).isRequired,\r\n      definitions: PropTypes.object.isRequired,\r\n      formContext: PropTypes.object.isRequired\r\n    }),\r\n    formContext: PropTypes.object.isRequired,\r\n    required: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    readonly: PropTypes.bool,\r\n    autofocus: PropTypes.bool,\r\n    rawErrors: PropTypes.arrayOf(PropTypes.string)\r\n  };\r\n}\r\n\r\nGenStringField.defaultProps = {\r\n  uiSchema: {},\r\n  disabled: false,\r\n  readonly: false,\r\n  autofocus: false\r\n};\r\n\r\nexport default GenStringField;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { getWidget, getUiOptions, optionsList, getDefaultRegistry } from '.';\r\n\r\nfunction GenBooleanField(props) {\r\n  const {\r\n    schema,\r\n    name,\r\n    uiSchema,\r\n    idSchema,\r\n    formData,\r\n    registry = getDefaultRegistry(),\r\n    required,\r\n    disabled,\r\n    readonly,\r\n    autofocus,\r\n    onChange,\r\n    rawErrors\r\n  } = props;\r\n  const { title } = schema;\r\n  const { widgets, formContext = {} } = registry;\r\n  const { widget = 'checkbox', ...options } = getUiOptions(uiSchema);\r\n  const Widget = getWidget(schema, widget, widgets);\r\n  const enumOptions = optionsList({\r\n    enum: [true, false],\r\n    enumNames: schema.enumNames || ['yes', 'no']\r\n  });\r\n  console.log('---boolean----')\r\n  return (\r\n    <Widget\r\n      options={{ ...options, enumOptions }}\r\n      schema={schema}\r\n      id={idSchema && idSchema.$id}\r\n      onChange={onChange}\r\n      label={title === undefined ? name : title}\r\n      value={formData}\r\n      required={required}\r\n      disabled={disabled}\r\n      readonly={readonly}\r\n      registry={registry}\r\n      formContext={formContext}\r\n      autofocus={autofocus}\r\n      rawErrors={rawErrors}\r\n    />\r\n  );\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  GenBooleanField.propTypes = {\r\n    schema: PropTypes.object.isRequired,\r\n    uiSchema: PropTypes.object,\r\n    idSchema: PropTypes.object,\r\n    onChange: PropTypes.func.isRequired,\r\n    formData: PropTypes.bool,\r\n    required: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    readonly: PropTypes.bool,\r\n    autofocus: PropTypes.bool,\r\n    registry: PropTypes.shape({\r\n      widgets: PropTypes.objectOf(\r\n        PropTypes.oneOfType([PropTypes.func, PropTypes.object])\r\n      ).isRequired,\r\n      fields: PropTypes.objectOf(PropTypes.func).isRequired,\r\n      definitions: PropTypes.object.isRequired,\r\n      formContext: PropTypes.object.isRequired\r\n    }),\r\n    rawErrors: PropTypes.arrayOf(PropTypes.string)\r\n  };\r\n}\r\n\r\nGenBooleanField.defaultProps = {\r\n  uiSchema: {},\r\n  disabled: false,\r\n  readonly: false,\r\n  autofocus: false\r\n};\r\n\r\nexport default GenBooleanField;\r\n","import SchemaField from 'react-jsonschema-form/lib/components/fields/SchemaField';\r\nimport { notification } from 'antd';\r\n\r\nexport default class PatchedSchemaField extends SchemaField {\r\n  componentDidCatch(error, info) {\r\n    notification.error({\r\n      message: `Error: ${this.props.idSchema.$id}`,\r\n      description: error.toString(),\r\n      duration: 0\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { Alert } from 'antd';\r\nimport ArrayField from './GenArrayField';\r\nimport StringField from './GenStringField';\r\nimport BooleanField from './GenBooleanField';\r\nimport SchemaField from './GenSchemaField';\r\n// merge (schema, widget)\r\nimport { getWidget as __getWidget } from 'react-jsonschema-form/lib/utils';\r\n// 导出对应的方法\r\nexport * from 'react-jsonschema-form/lib/utils';\r\n\r\nfunction Error(msg) {\r\n  return () => <Alert message={msg} type=\"error\" showIcon />;\r\n}\r\n\r\n// 封装 __getWidget\r\nexport function getWidget(...args) {\r\n  try {\r\n    return __getWidget(...args);\r\n  } catch (e) {\r\n    return Error(e.toString());\r\n  }\r\n}\r\n\r\nfunction TitleField(props) {\r\n  const { id, title, required } = props;\r\n  return (\r\n    <legend id={id}>\r\n      {title}\r\n      {required ? '*' : null}\r\n    </legend>\r\n  );\r\n}\r\n\r\nexport function getDefaultRegistry() {\r\n  const fields = {\r\n    ...require('react-jsonschema-form/lib/components/fields').default,\r\n    ArrayField,\r\n    StringField,\r\n    BooleanField,\r\n    TitleField,\r\n    SchemaField\r\n  };\r\n\r\n  return {\r\n    fields,\r\n    widgets: require('react-jsonschema-form/lib/components/widgets').default\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { Icon, Modal, Button } from 'antd';\r\nimport { observer, inject } from 'mobx-react';\r\nimport {observable} from 'mobx'\r\nimport R from 'ramda'\r\nimport { deleteEmpty } from '@/utils'\r\n\r\nimport { IconWrap } from './style'\r\n\r\nconst confirm = Modal.confirm;\r\n\r\nconst EditExtra: React.FC<any> = inject('schemaState', 'legao')(\r\n  observer(store => {\r\n\r\n    const { legao, schemaState, id } = store\r\n    const relatedList: Array<string> = []\r\n\r\n    // 处理 schema 数据，删除对应的属性\r\n    const updataSchema = (prevSchema) => {\r\n      // id --> root_otherinfo_state\r\n      const arr = id.replace(/_/g, \"_properties_\").split('_').slice(1)\r\n      const lastOne = arr.pop()\r\n      const property = arr.reduce((r, n, k) => {\r\n        if (n !== 'properties') {\r\n          eval(r)[n]['sortdata'] = eval(r)[n]['sortdata'].filter(x => x !== lastOne)\r\n        }\r\n        if (k === 0 && arr.length === 1) {\r\n          prevSchema.sortdata = prevSchema.sortdata.filter(x => x !== lastOne)\r\n        }\r\n        return `${r}[\"${n}\"]`\r\n      }, 'prevSchema')\r\n\r\n      Reflect.deleteProperty(eval(property), lastOne)\r\n\r\n      // 删掉同层的 condition 依赖属性\r\n      Object.entries(eval(property)).forEach(([k, v]) => {\r\n        if (((v as any).condition || '').includes(lastOne)) {\r\n          relatedList.push(k)\r\n        }\r\n      })\r\n\r\n      return prevSchema\r\n    }\r\n\r\n    // 处理 formData 数据，删除对应的属性\r\n    const updateFormData = (prevFormData) => {\r\n      const arr = id.split('_').slice(1)\r\n      arr.reduce((r, n, k) => {\r\n        if (k === arr.length - 1) {\r\n          // 删掉同层的 condition 依赖属性\r\n          relatedList.forEach((i) => delete r[i])\r\n          delete r[n]\r\n        } else {\r\n          return r[n]\r\n        }\r\n      }, prevFormData)\r\n\r\n      return prevFormData\r\n    }\r\n\r\n    function showConfirm() {\r\n      confirm({\r\n        title: '提示',\r\n        content: '确定删除该组件吗？',\r\n        onOk() {\r\n          R.compose(schemaState.update, updataSchema, JSON.parse, JSON.stringify)(schemaState.jsonState)\r\n          // formData 同步改变\r\n          R.compose(schemaState.getData, observable, deleteEmpty, updateFormData, JSON.parse, JSON.stringify)(schemaState.formData)\r\n          schemaState.setVersion(schemaState.version + 1)\r\n        },\r\n        onCancel() { },\r\n      });\r\n    }\r\n\r\n  return (\r\n    <IconWrap>\r\n      <Icon type=\"edit\" theme=\"twoTone\" onClick={legao.change} />\r\n      <Icon type=\"delete\" theme=\"twoTone\" twoToneColor=\"#ff0000\" style={{ marginLeft: 10 }} onClick={showConfirm}/>\r\n    </IconWrap>\r\n  );\r\n}))\r\n\r\nexport default EditExtra;\r\n","import styled from 'styled-components';\r\n\r\nexport const IconWrap = styled.span`\r\n  margin-left: 20px;\r\n  svg {\r\n    cursor: pointer;\r\n  }\r\n`","import { useState } from 'react';\r\n\r\nconst useSetState = <T extends object>(\r\n  initState: T = {} as T\r\n): [T, (patch: Partial<T> | (() => void)) => void] => {\r\n  const [state, set] = useState<T>(initState);\r\n  const setState = patch => {\r\n    set(prevState =>\r\n      Object.assign(\r\n        {},\r\n        prevState,\r\n        patch instanceof Function ? patch(prevState) : patch\r\n      )\r\n    );\r\n  };\r\n\r\n  return [state, setState];\r\n};\r\n\r\nexport default useSetState;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { UnControlled as CodeMirror } from 'react-codemirror2';\r\nimport { Alert } from 'antd';\r\nimport { useSetState } from '@/Hooks';\r\n\r\nimport 'codemirror/lib/codemirror.css';\r\nimport 'codemirror/theme/dracula.css';\r\nimport 'codemirror/mode/javascript/javascript';\r\n\r\n// export interface JsonState<T> {\r\n//   isValid: Boolean;\r\n//   source: T;\r\n// }\r\n\r\nconst options = (isEdit) => ({\r\n  theme: isEdit ? 'dracula' : 'default',\r\n  height: 'auto',\r\n  viewportMargin: Infinity,\r\n  mode: {\r\n    name: 'javascript',\r\n    json: true,\r\n    statementIndent: 2\r\n  },\r\n  tabSize: 2,\r\n  indentWithTabs: false,\r\n  smartIndent: true,\r\n  lineNumbers: isEdit,\r\n  lineWrapping: true,\r\n  readOnly: !isEdit\r\n});\r\n\r\nconst checkValid = source => {\r\n  try {\r\n    return JSON.parse(source);\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\n// const JsonSchema = <T>(props) => {\r\n//   const source = JSON.stringify(props.source, null, 2);\r\n//   const [state, set] = useState<JsonState<T>>({\r\n//     source,\r\n//     isValid: checkValid(source)\r\n//   })\r\n// 除了自身编辑的改变，props改变也会渲染，所以会渲染两次\r\nconst JsonSchema = props => {\r\n  const {version, type, source: initSource, isEdit} = props\r\n  const source = JSON.stringify(initSource, null, 2);\r\n  const initState = {\r\n    source,\r\n    isValid: !isEdit || checkValid(source)\r\n  };\r\n  const [state, setState] = useSetState(initState);\r\n\r\n  useEffect(() => {\r\n    console.log('99999')\r\n    state.source !== initState.source && setState(initState)\r\n  }, [version, type]);\r\n\r\n  const emitHandler = (editor, data, value) => {\r\n    if (!isEdit) return\r\n    const { onChange } = props;\r\n    const isValid = checkValid(value);\r\n    setState({ isValid });\r\n    isValid && !!onChange && onChange(isValid);\r\n  };\r\n\r\n  const renderOpt = options(isEdit)\r\n\r\n  return (\r\n    <>\r\n      {!state.isValid ? (\r\n        <Alert\r\n          type=\"error\"\r\n          message=\"请输入正确的 JSON 格式\"\r\n          showIcon\r\n          style={{ margin: '10px 0' }}\r\n        />\r\n      ) : null}\r\n      <CodeMirror\r\n        value={state.source}\r\n        // onBeforeChange={(editor, data, value, next) => {\r\n        //   setState({ source: value })\r\n        //   next()\r\n        // }}\r\n        // onBeforeChange={emitHandler}\r\n        // onChange={(editor, data, value) => {\r\n        // }}\r\n        onChange={emitHandler}\r\n        options={renderOpt}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default JsonSchema;\r\n","import styled from 'styled-components';\r\n\r\nexport const Content = styled.section`\r\n  height: 100%;\r\n`;\r\n","import React from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { observable } from 'mobx';\r\nimport { message } from 'antd';\r\nimport JsonEditor from '@/core/JsonEditor';\r\n\r\nimport { Content } from './style';\r\n\r\nmessage.config({ maxCount: 1 });\r\n\r\nconst FormSchema: React.FC<any> = inject('schemaState')(\r\n  observer((store: any) => {\r\n    const changeHandler = source => {\r\n      store.schemaState.update(observable(source));\r\n    };\r\n    return (\r\n      <Content\r\n        as={JsonEditor}\r\n        source={store.schemaState[store.type]}\r\n        onChange={changeHandler}\r\n        isEdit={store.type === 'jsonState'}\r\n        version={store.schemaState.version}\r\n        type={store.type}\r\n      />\r\n    );\r\n  })\r\n);\r\n\r\nexport default FormSchema;\r\n","import styled from 'styled-components';\r\n\r\nimport { TOP, BOTTOM } from '@css/_variable';\r\n\r\nexport const Content = styled.main`\r\n  background: white;\r\n  min-height: calc(100vh - ${TOP} - ${BOTTOM});\r\n`;\r\n\r\nexport const Schema = styled.div`\r\n  & .ant-tabs-bar {\r\n    margin: 0;\r\n  }\r\n`;\r\n","export const TOP = '84px';\r\n\r\nexport const BOTTOM = '70px';\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport FormSchema from '@/components/FormSchema';\r\nimport JsonSchema from '@/components/JsonSchema';\r\n\r\nimport { Content, Schema } from './style';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nconst renderTabBar = (props, DefaultTabBar) => (\r\n  <Sticky bottomOffset={80}>\r\n    {({ style }) => (\r\n      <DefaultTabBar\r\n        {...props}\r\n        style={{ ...style, zIndex: 10, background: '#fff', top: 64 }}\r\n      />\r\n    )}\r\n  </Sticky>\r\n);\r\n\r\nconst callback = () => {\r\n  window.document.body.scrollTo({\r\n    top: 1000,\r\n    behavior: \"smooth\"\r\n  });\r\n}\r\n\r\nconst FormCreate: React.FC = () => {\r\n  return (\r\n    <Content>\r\n      <StickyContainer>\r\n        <Schema as={Tabs} defaultActiveKey=\"1\" renderTabBar={renderTabBar} onChange={callback}>\r\n          <TabPane tab=\"JSONSchema\" key=\"1\">\r\n            <FormSchema type=\"jsonState\"/>\r\n          </TabPane>\r\n          <TabPane tab=\"formData\" key=\"2\">\r\n            <FormSchema type=\"formData\"/>\r\n          </TabPane>\r\n        </Schema>\r\n      </StickyContainer>\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport default FormCreate;\r\n","import React from 'react'\r\nimport { Button, Icon } from 'antd'\r\n\r\nexport const MagentoArrayTheme: React.FC<any> = props => {\r\n  const {\r\n    items,\r\n    className,\r\n    onAddClick,\r\n    canAdd,\r\n    // 取 schema 的 minItems 字段\r\n    schema: { minItems = Infinity }\r\n  } = props\r\n\r\n  return (\r\n    <>\r\n      <ul className={`${className} react-magento-ul`}>\r\n        {\r\n          items && items.map(({index, children, hasRemove, onDropIndexClick, onAddClick}) => (\r\n            <li key={index} className=\"react-magento-li\">\r\n              {children}\r\n              {hasRemove && index + 1 > minItems && (\r\n                <Button onClick={onDropIndexClick(index)} shape=\"circle\" type=\"danger\" icon=\"close\"/>\r\n              )}\r\n            </li>\r\n          ))\r\n        }\r\n        {\r\n          canAdd && (\r\n            <li className=\"react-magento-li_add\" key=\"react-magento-add\">\r\n              <Button onClick={onAddClick} type=\"primary\" shape=\"circle\" icon=\"plus\"/>\r\n            </li>\r\n          )\r\n        }\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport { Form, Icon } from 'antd'\r\nimport EditExtra from '@/components/EditExtra'\r\nconst FormItem = Form.Item\r\n\r\n/**\r\n * 当type = ['object', 'null'] || ‘object’ 的时候为true\r\n * @param {string|Array} type\r\n */\r\nfunction isObjectType(type) {\r\n  if (Array.isArray(type)) {\r\n    return (\r\n      type.length === 2 && type.includes('null') && type.includes('object')\r\n    );\r\n  }\r\n  return type === 'object';\r\n}\r\n\r\nexport const MagentoFieldTheme: React.FC<any> = (props) => {\r\n  const {\r\n    id,\r\n    schema,\r\n    uiSchema,\r\n    children,\r\n    label,\r\n    required,\r\n    rawHelp,\r\n    rawErrors,\r\n  } = props;\r\n\r\n  let formItemLayout = null\r\n\r\n  if (isObjectType(schema.type) && !uiSchema.hasOwnProperty('ui:field')) {\r\n    return children\r\n  }\r\n\r\n  if (schema.hasOwnProperty(\"layout\")) {\r\n    formItemLayout = schema.layout\r\n  }\r\n  const validateStatus = rawErrors && rawErrors.length ? 'error' : 'success'\r\n  const help = rawErrors && rawErrors.length ? rawErrors.join(';') : rawHelp\r\n\r\n  return (\r\n    <FormItem\r\n      {...formItemLayout}\r\n      label={label}\r\n      required={required}\r\n      help={help}\r\n      validateStatus={validateStatus}\r\n    >\r\n      {children}\r\n    </FormItem>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport Form from 'react-jsonschema-form/lib';\r\nimport { getDefaultRegistry } from '.';\r\n\r\nclass GenForm extends Form {\r\n  getRegistry() {\r\n    const {\r\n      fields: defaultFields,\r\n      widgets: defaultWidgets\r\n    } = getDefaultRegistry();\r\n    const {\r\n      fields,\r\n      widgets,\r\n      ArrayFieldTemplate,\r\n      ObjectFieldTemplate,\r\n      FieldTemplate,\r\n      schema,\r\n      formContext\r\n    } = (this as any).props;\r\n\r\n    return {\r\n      fields: { ...defaultFields, ...fields },\r\n      widgets: { ...defaultWidgets, ...widgets },\r\n      definitions: { ...schema.definitions },\r\n      formContext: { ...formContext },\r\n      ArrayFieldTemplate,\r\n      ObjectFieldTemplate,\r\n      FieldTemplate\r\n    };\r\n  }\r\n}\r\n\r\nexport default GenForm;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n  .react-magento-ul {\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .react-magento-li {\r\n    display: flex;\r\n    align-items: flex-start;\r\n\r\n    & > :first-child {\r\n      flex: 1;\r\n    }\r\n  }\r\n  .react-magento {\r\n    & fieldset {\r\n      padding: 0;\r\n      fieldset {\r\n        margin-top: 30px;\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport SchemaField from \"react-jsonschema-form/lib/components/fields/SchemaField\";\r\nimport GenForm from '@/core/GenForm';\r\nimport { Form } from 'antd'\r\nimport { FormProps } from 'antd/lib/form/Form';\r\nimport { GlobalStyle } from './style.js'\r\n\r\nexport interface AntdFormProps extends FormProps {\r\n  schema: object,\r\n  uiSchema?: object,\r\n  onSubmit?: React.FormEventHandler<any>,\r\n  onCancel?: React.FormEventHandler<any>,\r\n  formData?: any,\r\n  disableSubmit?: boolean,\r\n  widgets?: object,\r\n  fields?: object,\r\n  onChange?:  React.FormEventHandler<any>,\r\n  formContext?: object,\r\n  liveValidate?: boolean,\r\n  children?: JSX.Element,\r\n  validate?: Function,\r\n  className?: string,\r\n}\r\n\r\nexport class MagentoForm extends GenForm {\r\n\r\n  render() {\r\n    const {\r\n      children,\r\n      safeRenderCompletion,\r\n      id,\r\n      idPrefix,\r\n      className,\r\n      name,\r\n      method,\r\n      target,\r\n      action,\r\n      autocomplete,\r\n      enctype,\r\n      acceptcharset,\r\n      noHtml5Validate,\r\n      disabled,\r\n    } = (this as any).props;\r\n\r\n    const { schema, uiSchema, formData, errorSchema, idSchema } = (this as any).state;\r\n    const registry = this.getRegistry();\r\n    const _SchemaField = registry.fields.SchemaField;\r\n    let formLayout: FormProps = {layout: 'horizontal'}\r\n    if (schema.hasOwnProperty(\"formOpt\")) {\r\n      formLayout = schema.formOpt\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <GlobalStyle />\r\n        <Form\r\n          {...formLayout}\r\n          className={className ? className : \"rjsf\"}\r\n          id={id}\r\n          name={name}\r\n          method={method}\r\n          target={target}\r\n          action={action}\r\n          autoComplete={autocomplete}\r\n          encType={enctype}\r\n          acceptCharset={acceptcharset}\r\n          noValidate={noHtml5Validate}\r\n          onSubmit={(this as any).onSubmit}\r\n          ref={form => {\r\n            (this as any).formElement = form;\r\n          }}>\r\n            {(this as any).renderErrors()}\r\n            <_SchemaField\r\n              schema={schema}\r\n              uiSchema={uiSchema}\r\n              errorSchema={errorSchema}\r\n              idSchema={idSchema}\r\n              idPrefix={idPrefix}\r\n              formData={formData}\r\n              onChange={(this as any).onChange}\r\n              onBlur={(this as any).onBlur}\r\n              onFocus={(this as any).onFocus}\r\n              registry={registry}\r\n              safeRenderCompletion={safeRenderCompletion}\r\n              disabled={disabled}\r\n            />\r\n            {children}\r\n        </Form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// export const MagentoForm = {\r\n//   Form: SchemaForm\r\n// }\r\n","import React from 'react'\r\n\r\nexport const MagentoObjectTheme: React.FC<any> = ({title, properties}) => {\r\n  return (\r\n    <fieldset>\r\n      <legend>{title}</legend>\r\n      {properties.map(prop => (\r\n        <React.Fragment key={prop.content.key}>\r\n          {prop.content}\r\n        </React.Fragment>\r\n      ))}\r\n    </fieldset>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Select } from 'antd'\r\nimport { SelectValue } from \"antd/lib/select\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst nums = new Set([\"number\", \"integer\"]);\r\n\r\n/**\r\n * This is a silly limitation in the DOM where option change event values are\r\n * always retrieved as strings.\r\n */\r\nfunction processValue(schema, value) {\r\n  return value;\r\n}\r\n\r\nconst AntdSelect = (props) => {\r\n  const {\r\n    options = {},\r\n    enumOptions,\r\n    uiSchema,\r\n    updateItemData,\r\n    validate,\r\n    placeholder,\r\n    formItemMeta,\r\n    ...resetProps\r\n  } = props;\r\n  const { readonly = false } = uiSchema || {}\r\n  const metaOptions = formItemMeta ? formItemMeta.getIn([\"options\", \"widget\", \"select\"]) : {}\r\n  const { enumDisabled = [] } = options;\r\n  const setDefaultProps = (): any => {\r\n    const props: any = {};\r\n    if (props.formItemData !== undefined) {\r\n      props.defaultValue = props.formItemData;\r\n    }\r\n    return { options: props };\r\n  }\r\n  return (\r\n    <Select\r\n      disabled={readonly}\r\n      placeholder={placeholder}\r\n      {...setDefaultProps()}\r\n      {...resetProps}\r\n    >\r\n      {enumOptions.map(({ value, label }, i) => {\r\n        const disabled = enumDisabled && enumDisabled.indexOf(value) != -1;\r\n        return (\r\n          <Option key={i} value={value} disabled={disabled}>\r\n            {label}\r\n          </Option>\r\n        );\r\n      })}\r\n    </Select>\r\n  );\r\n}\r\n\r\nexport default AntdSelect\r\n","import React from 'react'\r\nimport { Checkbox } from 'antd'\r\n\r\n// Check to see if a schema specifies that a value must be true\r\nfunction schemaRequiresTrueValue(schema) {\r\n  if (!schema) return false\r\n  // Check if const is a truthy value\r\n  if (schema.const) {\r\n    return true;\r\n  }\r\n\r\n  // Check if an enum has a single value of true\r\n  if (schema.enum && schema.enum.length === 1 && schema.enum[0] === true) {\r\n    return true;\r\n  }\r\n\r\n  // If anyOf has a single value, evaluate the subschema\r\n  if (schema.anyOf && schema.anyOf.length === 1) {\r\n    return schemaRequiresTrueValue(schema.anyOf[0]);\r\n  }\r\n\r\n  // If oneOf has a single value, evaluate the subschema\r\n  if (schema.oneOf && schema.oneOf.length === 1) {\r\n    return schemaRequiresTrueValue(schema.oneOf[0]);\r\n  }\r\n\r\n  // Evaluate each subschema in allOf, to see if one of them requires a true\r\n  // value\r\n  if (schema.allOf) {\r\n    return schema.allOf.some(schemaRequiresTrueValue);\r\n  }\r\n}\r\n\r\nconst AntdCheckbox = (props) => {\r\n  const {\r\n    schema,\r\n    id,\r\n    value,\r\n    disabled,\r\n    readonly,\r\n    label,\r\n    autofocus,\r\n    onBlur,\r\n    onFocus,\r\n    onChange,\r\n  } = props;\r\n\r\n  // Because an unchecked checkbox will cause html5 validation to fail, only add\r\n  // the \"required\" attribute if the field value must be \"true\", due to the\r\n  // \"const\" or \"enum\" keywords\r\n  const required = schemaRequiresTrueValue(schema);\r\nconsole.log(props)\r\n  return (\r\n    <Checkbox\r\n      checked={typeof value === \"undefined\" ? false : value}\r\n      disabled={disabled || readonly}\r\n      onChange={event => onChange(event.target.checked)}\r\n    >\r\n      {label}\r\n    </Checkbox>\r\n  );\r\n}\r\n\r\nexport default AntdCheckbox\r\n","import React from 'react'\r\nimport { isStringNull, noop } from '@/utils'\r\n\r\n/**\r\n * 高阶组件，将Fusion组件适配为ReactJsonschemaForm支持的格式\r\n * @param {React.Component} Widget - 需要包装的react组件\r\n * @param {Object} [options] - 除去以下特殊字段外，用于组件本身的预定义属性\r\n * @param {Function} [options.transformValue] - 组件的值转为满足jsonschema定义的值\r\n * @param {Function} [options.fromValue] - jsonschema form的值转为满足组件的值\r\n * @param {String} [options.valuePropName=value] - 组件用于接收value的字段名字，一般是`value`，但有例外，比如`Switch`用`checked`表示\r\n * @param {Object} [options.style] - 组件样式\r\n */\r\nconst withWidget = (Widget, {\r\n  transformValue=noop,\r\n  fromValue=noop,\r\n  valuePropName='value',\r\n  style={width: 260},\r\n  type='',\r\n  ...restOption\r\n} = {}): (props: any) => JSX.Element => {\r\n  function customWidget(props) {\r\n    const { value, onChange, placeholder, options, schema, label } = props\r\n    const { enumOptions, width, schema_format, ...restProps } = options\r\n    const widgetStyle = {\r\n      ...style,\r\n      ...(width !== undefined ? { width } : {})\r\n    }\r\n    const widgetProps = {\r\n      ...restProps,\r\n      style: widgetStyle,\r\n      [valuePropName]: fromValue(value, schema, { schema_format }),\r\n      placeholder,\r\n      label,\r\n      onChange: event => {\r\n        const formatVal = transformValue(typeof event === 'object' ? event.target.value : event, schema, { schema_format })\r\n        onChange(isStringNull(formatVal) ? undefined : formatVal)\r\n      }\r\n    }\r\n    const nameList = ['autoFocus', 'disabled']\r\n    nameList.forEach(item => {\r\n      widgetProps[item] = schema && schema[item.toLowerCase()] || false\r\n    })\r\n    if (enumOptions && enumOptions.length > 0) {\r\n      widgetProps.enumOptions = enumOptions\r\n    }\r\n    if (schema && schema.maxLength) {\r\n      widgetProps.maxLength = schema.maxLength\r\n    }\r\n    if (!placeholder && schema.title) {\r\n      widgetProps.placeholder = `请填写${schema.title}`\r\n    }\r\n    if (schema && schema.max) {\r\n      widgetProps.max = schema.max\r\n    }\r\n    if (schema && schema.min) {\r\n      widgetProps.min = schema.min\r\n    }\r\n    if (schema && schema.step) {\r\n      widgetProps.step = schema.step\r\n    }\r\n\r\n    return <Widget {...restOption} {...widgetProps} />\r\n  }\r\n  return customWidget\r\n}\r\n\r\nexport default withWidget\r\n","import { Input, Checkbox, Cascader, DatePicker, InputNumber, Radio, Switch } from 'antd'\r\nimport AntdSelect from '../select'\r\nimport AntdCheckbox from '../checkbox'\r\nimport React from 'react'\r\nimport widgetHoc from './widgetHoc'\r\n\r\nconst { TextArea } = Input\r\nconst RadioGroup = Radio.Group;\r\n\r\nexport default {\r\n  // TextWidget: (props) => <Input {...props}/>,\r\n  TextWidget: widgetHoc(Input, {\r\n    transformValue(value: string = '') {\r\n      return value.trim()\r\n    }\r\n  }),\r\n  DateWidget: (props) => <DatePicker {...props}/>,\r\n  TextareaWidget: widgetHoc(TextArea),\r\n  SelectWidget: widgetHoc(AntdSelect),\r\n  SwitchWidget: (props) => <Switch {...props}/>,\r\n  CheckboxWidget: widgetHoc(AntdCheckbox),\r\n  UpDownWidget: widgetHoc(InputNumber),\r\n}\r\n","import R from 'ramda'\r\nimport { argumentPlaceholder } from '@babel/types';\r\nimport { prototype } from 'events';\r\n\r\nexport interface FormatSchemaInterface {\r\n\r\n}\r\n\r\nconst DIVI_WORD = 'properties'\r\n\r\nexport default class FormatSchema implements FormatSchemaInterface {\r\n  public source: object = {}\r\n  public prettyData: object = {}\r\n  private pathId: Array<string> = []\r\n  private Trans_Map: Map<string, string> = new Map([\r\n    [\"component\", \"ui:widget\"],\r\n    [\"autofocus\", \"ui:autofocus\"],\r\n    [\"placeholder\", \"ui:placeholder\"],\r\n    [\"className\", \"classNames\"],\r\n    [\"condition\", \"ui:conditions\"],\r\n    [\"sortdata\", \"ui:order\"],\r\n    [\"props\", \"ui:options\"],\r\n    // [\"layout\", \"ui:options\"],\r\n  ])\r\n\r\n  private keyHandler = (obj, arr, fn) => Object.keys(obj).forEach(k => arr.push(k) && fn(obj[k]))\r\n\r\n  private pipeData = (source: object, prettyData: object, path: Array<String>) => (data: object) => {\r\n    return R.compose(this.separate(source, path, data), this.filterData, Object.keys)(data)\r\n  }\r\n\r\n  // 组装数据\r\n  private separate = (source, path, data) => arr => {\r\n    // 获取当前所属分类\r\n    const parentName = path.pop()\r\n\r\n    this.prettyMap(this.prettyData, path, arr, parentName, data)\r\n    this.formatSource(path, data, parentName, source)\r\n  }\r\n\r\n  // 如果有符合 Trans_Map 的字段\r\n  private prettyMap = (prettyData, path, arr, parentName, data) => {\r\n    if (!arr.length) return\r\n\r\n    let renderNode = prettyData\r\n    const formatArr = path.filter(x => x !== DIVI_WORD)\r\n\r\n    const name = `${this.Trans_Map.get('sortdata')}`\r\n    const initOrder = (this.source as any).sortdata\r\n    initOrder && initOrder.length && (prettyData[name] = initOrder)\r\n\r\n    formatArr.length && formatArr.reduce((r, n, k) => {\r\n      let temp = this.source\r\n      for (let x of path) {\r\n        temp = temp[x]\r\n        if (x === n) break\r\n      }\r\n\r\n      r[n] = r[n] || {}\r\n      // add properties 之前的那个\r\n      if (k === formatArr.length - 1) {\r\n        const hasOrder = (temp as any).sortdata\r\n        hasOrder && hasOrder.length && (r[n][name] = hasOrder)\r\n        renderNode = r[n]\r\n      }\r\n      return r[n]\r\n    }, prettyData)\r\n\r\n    // arr.forEach((property) => renderNode[parentName] = Object.assign(renderNode[parentName] || {}, {[(this.Trans_Map.get(property) as string)]: data[property]}))\r\n    arr.forEach((property) => {\r\n      const matchName = <string>this.Trans_Map.get(property)\r\n      // 单独拎出 condition 生成 'ui:conditions': [{path: 'properties_otherinfo_properties_state', condition: \"location=nordic\"}]\r\n      if (property === 'condition') {\r\n        prettyData[matchName] = prettyData[matchName] || []\r\n        prettyData[matchName].push({path: [...path, parentName].join('_'), condition: data[property]})\r\n      } else {\r\n        renderNode[parentName] = Object.assign(renderNode[parentName] || {}, {[matchName]: data[property]})\r\n      }\r\n    })\r\n  }\r\n\r\n  // 为 source 添加新的属性\r\n  private formatSource = (path, data, parentName, source) => {\r\n    this.formatRequire(path, data, parentName, source)\r\n  }\r\n\r\n\r\n  private formatRequire = (path, data, parentName, source) => {\r\n    const LEN = path.length - 1\r\n    if (path[LEN] !== 'properties' || !data.required) return\r\n\r\n    // 处理required\r\n    path.reduce((r, n, k) => {\r\n      if (!LEN) {\r\n        r.required = r.required || []\r\n        !r.required.includes(parentName) && r.required.push(parentName)\r\n      } else if (k === LEN - 1) {\r\n        r[n] = Object.assign(r[n] || {}, {required: r[n].required || []})\r\n        !r[n].required.includes(parentName) && r[n].required.push(parentName)\r\n      }\r\n      return r[n]\r\n    }, source)\r\n  }\r\n\r\n  private filterData = R.memoizeWith(R.identity, _ => _.filter(x => this.Trans_Map.has(x)))\r\n\r\n  // 去除 condition 里面的 || 、 &&\r\n  private conditionHandler = (condition: string = '') => {\r\n    let rules: Array<string> = []\r\n    // 是否condition里面所有的条件都需要满足\r\n    let allHaveToMatch: boolean = false\r\n    // 好像并没有用上\r\n    let visible: boolean = false\r\n\r\n    // 解析 foo=bar || bar=foo 格式\r\n    // TODO:还没想好怎么优化这种if else的结构\r\n    if (condition.includes('||')) {\r\n      rules = condition.split('||')\r\n      allHaveToMatch = false\r\n      visible = false\r\n    }\r\n\r\n    // foo=bar && bar=foo\r\n    else if (condition.indexOf('&&') !== -1) {\r\n      rules = condition.split('&&');\r\n      allHaveToMatch = true;\r\n      visible = true;\r\n    }\r\n\r\n    // foo=bar\r\n    else {\r\n      rules = [condition];\r\n      allHaveToMatch = true;\r\n      visible = true;\r\n    }\r\n\r\n    return {\r\n      rules,\r\n      allHaveToMatch,\r\n      visible\r\n    };\r\n\r\n  }\r\n\r\n  // 单独处理拆分的每个 condition\r\n  private ruleHandler = (conditionRule) => {\r\n    let rule = []\r\n    let invert  // condition 的条件是不等于的话为true，等于为false\r\n\r\n    // foo!=bar\r\n    if (conditionRule.includes('!=')) {\r\n      rule = conditionRule.split('!=');\r\n      invert = true;\r\n    }\r\n\r\n    // foo=bar\r\n    else if (conditionRule.includes('=')) {\r\n      rule = conditionRule.split('=');\r\n      invert = false;\r\n    }\r\n\r\n    // 正常情况只能拆分出两个\r\n    if (rule.length !== 2) {\r\n      return false;\r\n    }\r\n\r\n    let [field, values] = <Array<string>>rule;\r\n\r\n    (values as any) = values.split(',');\r\n\r\n    return {\r\n        field,\r\n        values,\r\n        invert\r\n    }\r\n\r\n  }\r\n  public constructor(source) {\r\n    this.source = source\r\n    this.init(this.source)\r\n  }\r\n\r\n  protected init = (data) => {\r\n    if (data.hasOwnProperty(DIVI_WORD)) {\r\n      this.pathId.push(DIVI_WORD)\r\n      this.keyHandler(data.properties, this.pathId, this.init)\r\n    } else {\r\n      const name = Object.keys(data).find(x => data[x].hasOwnProperty(DIVI_WORD))\r\n      name ? this.keyHandler(data[name].properties, this.pathId, this.init) : this.pipeData(this.source, this.prettyData, this.pathId)(data)\r\n    }\r\n  }\r\n\r\n  public calcuSchema = (formData) => {\r\n    const conditionSchema = this.prettyData['ui:conditions']\r\n\r\n    // 判断 prettyData 是否含有 conditions\r\n    if (!conditionSchema || !conditionSchema.length || !Object.keys(formData)) return ({source: this.source, prettyData: this.prettyData})\r\n\r\n    // 拷贝一份 schema 用来符合 condition 显隐切换\r\n    const newSchema = JSON.parse(JSON.stringify(this.source))\r\n\r\n    // 重新生成符合 conditions 条件的数据\r\n    conditionSchema.forEach(({path, condition}) => {\r\n      // 拆分 conditions 的 and or 判断\r\n      const { rules, allHaveToMatch } = this.conditionHandler(condition)\r\n      const pathArr = path.replace(/properties_/g, '').split('_')\r\n      const curName = pathArr.pop()\r\n      const parentObj = pathArr.reduce((c,n) => c[n], formData)\r\n\r\n      let matches: Array<any> = []\r\n\r\n      rules.forEach(rule => {\r\n        // 拆分 condition 的 = !=\r\n        const { field, values: stringValues, invert } = (this.ruleHandler(rule) as any )\r\n        // 记录该规则下的元素需不需要显示\r\n        let visible: boolean = invert\r\n\r\n        // 允许 xx=true，xx=false，xx=yy 的格式\r\n        const values = stringValues.map(value => {\r\n          if (value === 'true') {\r\n            value = true\r\n          } else if (value === 'false') {\r\n            value = false\r\n          }\r\n          return value\r\n        })\r\n\r\n        // 当 curName 的同层含有 condition 里面的对象 field 时\r\n        if(field && parentObj && parentObj.hasOwnProperty(field)) {\r\n          // 监控 field 的值\r\n          let currentValues: Array<any> = [].concat(parentObj[field])\r\n\r\n          // 改变每条 condition 规则的变量 visible，values 有多个值就说明要全部满足\r\n          values.forEach(value => {\r\n            // 判断实际值包不包含 condition 满足的值\r\n            const isContain = currentValues.includes(value)\r\n            if (invert) {\r\n              // 不等于 != 的情况, isContain 不包含为true，需要验证所有的都不包含\r\n              visible = visible && !isContain\r\n            } else {\r\n              // 等于 = 的情况, isContain 包含为true，有一个包含就为true\r\n              visible = visible || isContain\r\n            }\r\n          })\r\n        }\r\n\r\n        // 每条规则的结果存入\r\n        matches.push(visible)\r\n      })\r\n\r\n      // Add or remove conditional field from schema\r\n      let shouldBeVisible = false\r\n      if (matches.length) {\r\n        // 判断 condition 是 and ／ or\r\n        shouldBeVisible = allHaveToMatch\r\n          // foo=bar && bar=foo\r\n          ? matches.every(Boolean)\r\n          // foo=bar || bar=foo\r\n          : matches.some(Boolean)\r\n      }\r\n\r\n      // 根据 shouldBeVisible 改变 schema\r\n      const pathList = path.split('_').slice(0, -1)\r\n      let newProp = pathList.reduce((c, n) => c[n], newSchema)\r\n      const oldProp = pathList.reduce((c, n) => c[n], this.source)\r\n      if (shouldBeVisible) {\r\n        // 原始的覆盖到新的，意为展示\r\n        newProp[curName] = oldProp[curName]\r\n      } else {\r\n        delete newProp[curName]\r\n      }\r\n    })\r\n    console.log(formData, '---->')\r\n\r\n    // 整个 condition 循环判断结束\r\n\r\n    return {\r\n      schema: newSchema,\r\n      uiSchema: this.prettyData\r\n    }\r\n\r\n  }\r\n\r\n  public static of = (data) => new FormatSchema(data)\r\n}\r\n","import React, { useState } from 'react';\r\nimport GenForm from '@/core/GenForm';\r\nimport { Button, Form } from 'antd'\r\nimport { MagentoArrayTheme, MagentoForm, MagentoFieldTheme, MagentoObjectTheme } from './theme'\r\nimport magentoWidget from './widget'\r\n// import magentoTransformErrors from './transform-errors'\r\nimport { FormProps } from 'antd/lib/form/Form';\r\nimport FormatSchema from '@/core/FormatSchema'\r\n\r\nexport interface AntdFormProps extends FormProps {\r\n  schema: object,\r\n  uiSchema?: object,\r\n  onSubmit?: React.FormEventHandler<any>,\r\n  onCancel?: React.FormEventHandler<any>,\r\n  formData?: any,\r\n  disableSubmit?: boolean,\r\n  widgets?: object,\r\n  fields?: object,\r\n  onChange?:  React.FormEventHandler<any>,\r\n  formContext?: object,\r\n  liveValidate?: boolean,\r\n  children?: JSX.Element,\r\n  validate?: Function,\r\n  className?: string,\r\n  FieldTemplate?: any\r\n}\r\n\r\nconst FormItem = Form.Item;\r\nconst FormFactory = MagentoForm as any\r\nconst formItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 24,\r\n      offset: 0,\r\n    },\r\n    sm: {\r\n      span: 20,\r\n      offset: 6,\r\n    },\r\n  },\r\n}\r\n\r\nconst AntdForm: React.FC<AntdFormProps> = props => {\r\n  const {\r\n    schema,\r\n    onSubmit,\r\n    uiSchema,\r\n    disableSubmit = false,\r\n    formData,\r\n    onCancel,\r\n    widgets,\r\n    fields,\r\n    onChange,\r\n    formContext,\r\n    liveValidate,\r\n    children,\r\n    validate,\r\n    className,\r\n    FieldTemplate\r\n  } = props\r\n\r\n  const oldData = JSON.parse(JSON.stringify(schema))\r\n  // const formate = FormatSchema.of(oldData)\r\n  // let {source: newSchema, prettyData: newUiSchema} = formate\r\n  const { calcuSchema } = FormatSchema.of(oldData)\r\n  let {schema: newSchema, uiSchema: newUiSchema} = calcuSchema(formData)\r\n  console.warn({ newSchema, newUiSchema })\r\n\r\n  return (\r\n    <FormFactory\r\n      schema={newSchema}\r\n      uiSchema={newUiSchema}\r\n      formData={formData}\r\n      widgets={{ ...magentoWidget, ...widgets }}\r\n      fields={{ ...fields }}\r\n      ArrayFieldTemplate={MagentoArrayTheme}\r\n      FieldTemplate={FieldTemplate || MagentoFieldTheme}\r\n      ObjectFieldTemplate={MagentoObjectTheme}\r\n      className={`react-magento ${className || ''}`}\r\n      onSubmit={onSubmit}\r\n      showErrorList={false}\r\n      onChange={onChange}\r\n      formContext={formContext}\r\n      liveValidate={liveValidate}\r\n      noHtml5Validate\r\n      // transformErrors={transformErrors}\r\n      validate={validate}\r\n    >\r\n      {\r\n        children || (\r\n          <FormItem  {...formItemLayout}>\r\n            <Button type=\"primary\" htmlType=\"submit\" disabled={disableSubmit}>\r\n              提交\r\n            </Button>\r\n            <Button style={{marginLeft: 20}} onClick={onCancel}>\r\n              返回\r\n            </Button>\r\n          </FormItem>\r\n        )\r\n      }\r\n    </FormFactory>\r\n  );\r\n}\r\n\r\nexport default AntdForm\r\n","/**\r\n * @event 只针对编辑页面\r\n * @constructs 组件添加可编辑可删除的按钮\r\n */\r\nimport React from 'react'\r\nimport { Form } from 'antd'\r\nimport EditExtra from '@/components/EditExtra'\r\nconst FormItem = Form.Item\r\n\r\nfunction isObjectType(type) {\r\n  if (Array.isArray(type)) {\r\n    return (\r\n      type.length === 2 && type.includes('null') && type.includes('object')\r\n    );\r\n  }\r\n  return type === 'object';\r\n}\r\n\r\nconst Field = (props) => {\r\n  const {\r\n    id,\r\n    schema,\r\n    uiSchema,\r\n    children,\r\n    label,\r\n    required,\r\n    rawHelp,\r\n    rawErrors,\r\n  } = props;\r\n\r\n  let formItemLayout = null\r\n\r\n  if (isObjectType(schema.type) && !uiSchema.hasOwnProperty('ui:field')) {\r\n    return children\r\n  }\r\n\r\n  if (schema.hasOwnProperty(\"layout\")) {\r\n    formItemLayout = schema.layout\r\n  }\r\n  const validateStatus = rawErrors && rawErrors.length ? 'error' : 'success'\r\n  const help = rawErrors && rawErrors.length ? rawErrors.join(';') : rawHelp\r\n\r\n  return (\r\n    <FormItem\r\n      {...formItemLayout}\r\n      label={label}\r\n      required={required}\r\n      help={help}\r\n      validateStatus={validateStatus}\r\n    >\r\n      {children}\r\n      <EditExtra id={id}/>\r\n    </FormItem>\r\n  )\r\n}\r\n\r\nexport default Field\r\n","import React from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { observable } from 'mobx';\r\nimport AntdForm from '@/core/antd';\r\nimport Field from './Field'\r\n\r\n\r\nconst log = type => console.log.bind(console, type);\r\n\r\nconst Form = inject('schemaState')(\r\n  observer(({ schemaState: {getData, setVersion, version, jsonState, formData} }) => {\r\n    const changeHandler = (source) => {\r\n      getData(observable(source.formData));\r\n      setVersion(version + 1)\r\n    };\r\n\r\n    return (\r\n      <AntdForm\r\n        schema={jsonState}\r\n        formData={formData}\r\n        FieldTemplate={Field}\r\n        onChange={changeHandler}\r\n        onSubmit={log('submitted')}\r\n        onError={log('errors')}\r\n      />\r\n    )\r\n  })\r\n);\r\n\r\nexport default Form;\r\n","import styled from 'styled-components';\r\n\r\nimport { TOP, BOTTOM } from '@css/_variable';\r\n\r\nexport const Content = styled.main`\r\n  background: white;\r\n  min-height: calc(100vh - ${TOP} - ${BOTTOM});\r\n  padding: 20px 30px;\r\n`;\r\n","import React from 'react';\r\nimport Form from '@/exmaple/index';\r\n\r\nimport { Content } from './style';\r\n\r\nconst FormView: React.FC = () => {\r\n  return (\r\n    <Content>\r\n      <Form />\r\n    </Content>\r\n  );\r\n};\r\n\r\nexport default FormView;\r\n","import React from 'react';\r\nimport { Menu, Icon } from 'antd';\r\nimport Widget from '@/core/antd/widget'\r\n\r\n// import { Content } from './style'\r\n\r\nconst { SubMenu } = Menu;\r\n\r\ninterface ChangeProps {\r\n  onOpen?: (nextVal?: any) => void;\r\n}\r\n\r\nconst JsonSchema: React.FC<ChangeProps> = (props: any) => {\r\n  const handleClick = e => {\r\n    props.onOpen(e.key)\r\n  };\r\n\r\n  const widgetList = Object.keys(Widget).map(item => item.replace(/Widget/g, ''))\r\n\r\n  return (\r\n    <Menu\r\n      theme=\"dark\"\r\n      mode=\"inline\"\r\n      defaultSelectedKeys={['input']}\r\n      onClick={handleClick}\r\n      defaultOpenKeys={['antd']}\r\n    >\r\n      <SubMenu\r\n        key=\"antd\"\r\n        title={\r\n          <span>\r\n            <Icon type=\"mail\" />\r\n            <span>Antd 风格</span>\r\n          </span>\r\n        }\r\n      >\r\n        <Menu.ItemGroup key=\"form\" title=\"表单系列\">\r\n          {widgetList.map(item => {\r\n            return <Menu.Item key={item}>{item}</Menu.Item>\r\n          })}\r\n        </Menu.ItemGroup>\r\n      </SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default JsonSchema;\r\n","import { observable, action, autorun, computed } from 'mobx';\r\n\r\nclass Legao {\r\n  @observable depict = false\r\n  // 点击左侧导航的哪个\r\n  @observable keyName = ''\r\n\r\n  @action.bound\r\n  change(name) {\r\n    this.depict = !this.depict;\r\n    this.keyName = name || ''\r\n  }\r\n\r\n}\r\n\r\nexport default new Legao()\r\n","import legao from './legao'\r\nimport schemaState from './schema'\r\n\r\nconst stores = {\r\n  schemaState,\r\n  legao\r\n}\r\n\r\nexport default stores\r\n","import { observable, action, autorun, computed } from 'mobx';\r\n\r\n// TODO: schema数据源中添加validata 校验字段以及transformat格式化字段\r\nclass SchemaState {\r\n  @observable jsonState = {\r\n    title: \"Todo\",\r\n    type: \"object\",\r\n    sortdata: [\"description\", \"name\", '*'],\r\n    // template: Tpl,\r\n    formOpt: {\r\n      layout: \"horizontal\",\r\n      labelCol: { span: 6 },\r\n      wrapperCol: { span: 18 },\r\n    },\r\n    properties: {\r\n      name: {\r\n        type: \"string\",\r\n        title: \"名字\",\r\n        default: \"kico\",\r\n        required: true,\r\n        layout: {\r\n          labelCol: { span: 4 },\r\n          wrapperCol: { span: 14, \"offset\": 6 }\r\n        }\r\n      },\r\n      description: {\r\n        type: \"string\",\r\n        title: \"描述\",\r\n        minLength: 30,\r\n        component: \"textarea\",\r\n        className: \"test\"\r\n      },\r\n      otherinfo: {\r\n        title: \"其他信息\",\r\n        type: \"object\",\r\n        sortdata: [\"done\", '*'],\r\n        properties: {\r\n          age: {\r\n            type: \"integer\",\r\n            min: 50,\r\n            max: 100,\r\n            component: \"updown\",\r\n            step: 10,\r\n            autofocus: true,\r\n            placeholder: \"我就是这么淘气～\"\r\n          },\r\n          done: {\r\n            type: \"boolean\",\r\n            title: \"完成\",\r\n            required: true,\r\n            default: true,\r\n            disabled: true\r\n          },\r\n          location: {\r\n            type: 'string',\r\n            title: '地理位置',\r\n            enum: ['us', 'nordic', 'other'],\r\n            enumNames: ['US', 'Nordic country', 'Other']\r\n          },\r\n          county: {\r\n            type: 'string',\r\n            title: '国家',\r\n            enum: ['CN', 'other'],\r\n            enumNames: ['中国', '其他'],\r\n            props: { inline: true },\r\n          },\r\n          state: {\r\n            type: 'string',\r\n            default: 'bj',\r\n            condition: \"county=CN\",\r\n            title: '城市',\r\n            enum: ['bj', 'fj', 'sz'],\r\n            enumNames: ['北京', '福建', '深圳']\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  @observable formData = {}\r\n\r\n  @observable version = ''\r\n\r\n  constructor() {\r\n    autorun(() => console.log(this.jsonState));\r\n  }\r\n\r\n  // @computed get schemaTree () {\r\n  //   const oldData = JSON.parse(JSON.stringify(this.jsonState))\r\n  //   const {source: schema, prettyData: uiSchema} = FormatSchema.of(oldData)\r\n  //   console.warn({ schema, uiSchema })\r\n  //   return { schema, uiSchema }\r\n  // }\r\n\r\n  @action.bound\r\n  update (source) {\r\n    this.jsonState = source;\r\n  }\r\n\r\n  @action.bound\r\n  getData(result) {\r\n    console.log('hhhhhh', result)\r\n    this.formData = result;\r\n  }\r\n\r\n  @action.bound\r\n  setVersion(data) {\r\n    this.version = data;\r\n  }\r\n}\r\n\r\nexport default new SchemaState()\r\n","import React, {useState} from 'react';\r\nimport { observer, inject } from 'mobx-react';\r\nimport { observable } from 'mobx';\r\nimport AntdForm from '@/core/antd';\r\n\r\n\r\nconst log = type => console.log.bind(console, type);\r\n\r\nconst Depict = inject('schemaState', 'legao')(\r\n  observer(store => {\r\n    const [state, setState] = useState({})\r\n    const changeHandler = (source) => {\r\n      setState(source.formData)\r\n      // store.schemaState.getData(observable(source.formData));\r\n    };\r\n\r\n    const schema = {\r\n      type: 'object',\r\n      formOpt: {\r\n        layout: \"horizontal\",\r\n        labelCol: { span: 6 },\r\n        wrapperCol: { span: 18 },\r\n      },\r\n      properties: {\r\n        key:  {\r\n          type: \"string\",\r\n          title: \"key 名称\",\r\n          required: true\r\n        },\r\n        label: {\r\n          type: \"string\",\r\n          title: \"label 名称\",\r\n          required: true\r\n        },\r\n        type: {\r\n          title: \"组件类型\",\r\n          required: true,\r\n          type: 'string',\r\n          enum: ['input', 'textArea', 'switch', 'select', 'checkbox'],\r\n          enumNames: ['input', 'textArea', 'switch', 'select', 'checkbox']\r\n        },\r\n        isRequire: {\r\n          title: \"是否必填\",\r\n          required: true,\r\n          type: 'boolean'\r\n        },\r\n        default: {\r\n          title: \"默认值\",\r\n          type: 'string'\r\n        },\r\n        layout: {\r\n          type: 'string',\r\n          title: '布局',\r\n          enum: ['none', 'labelCol', 'wrapperCol']\r\n        },\r\n        labelCol: {\r\n          \"$ref\": \"#/definitions/col\",\r\n          condition: 'layout=labelCol'\r\n        },\r\n        wrapperCol: {\r\n          \"$ref\": \"#/definitions/col\",\r\n          condition: 'layout=wrapperCol'\r\n        },\r\n        // layout: {\r\n        //   type: 'object',\r\n        //   \"properties\": {\r\n        //     \"type\": {\r\n        //       \"type\": \"string\",\r\n        //       \"title\": \"布局类型\",\r\n        //       \"enum\": [\r\n        //         \"labelCol\",\r\n        //         \"wrapperCol\"\r\n        //       ],\r\n        //       \"enumNames\": [\r\n        //         \"labelCol\",\r\n        //         \"wrapperCol\"\r\n        //       ]\r\n        //     }\r\n        //   },\r\n        //   \"dependencies\": {\r\n        //     \"type\": {\r\n        //       \"oneOf\": [\r\n        //         {\r\n        //           \"properties\": {\r\n        //             \"type\": {\r\n        //               \"enum\": [\r\n        //                 \"labelCol\"\r\n        //               ]\r\n        //             },\r\n        //             colList: {\r\n        //               type: 'array',\r\n        //               title: 'labelCol',\r\n        //               \"minItems\": 0,\r\n        //               \"uniqueItems\": true,\r\n        //               items: {\r\n        //                 type: 'object',\r\n        //                 properties: {\r\n        //                   \"colName\": {\r\n        //                     \"type\": \"string\",\r\n        //                     \"title\": \"属性\",\r\n        //                     \"enum\": [\r\n        //                       \"offset\",\r\n        //                       \"order\",\r\n        //                       \"pull\",\r\n        //                       \"push\",\r\n        //                       \"span\",\r\n        //                       \"xs\",\r\n        //                       \"sm\",\r\n        //                       \"md\",\r\n        //                       \"lg\",\r\n        //                       \"xl\",\r\n        //                       \"xxl\",\r\n        //                     ]\r\n        //                   },\r\n        //                   \"number\": {\r\n        //                     type: 'integer',\r\n        //                     title: '数值'\r\n        //                   }\r\n        //                 }\r\n        //               }\r\n        //             }\r\n\r\n        //           }\r\n        //         },\r\n        //         {\r\n        //           \"properties\": {\r\n        //             \"type\": {\r\n        //               \"enum\": [\r\n        //                 \"wrapperCol\"\r\n        //               ]\r\n        //             },\r\n        //             \"colName\": {\r\n        //               \"type\": \"string\",\r\n        //               \"title\": \"wrapperCol\",\r\n        //               \"enum\": [\r\n        //                 \"offset\",\r\n        //                 \"order\",\r\n        //                 \"pull\",\r\n        //                 \"push\",\r\n        //                 \"span\",\r\n        //                 \"xs\",\r\n        //                 \"sm\",\r\n        //                 \"md\",\r\n        //                 \"lg\",\r\n        //                 \"xl\",\r\n        //                 \"xxl\",\r\n        //               ]\r\n        //             }\r\n        //           }\r\n        //         }\r\n        //       ]\r\n        //     }\r\n        //   }\r\n        // },\r\n        className: {\r\n          type: \"string\",\r\n          title: \"className\",\r\n        },\r\n        options: {\r\n          title: \"选项\",\r\n          type: \"array\",\r\n          items: {\r\n            type: \"string\"\r\n          }\r\n        }\r\n      },\r\n      \"definitions\": {\r\n        \"col\": {\r\n          type: 'array',\r\n          minItems: 0,\r\n          items: {\r\n            \"type\": \"object\",\r\n            \"title\": \"labelCol\",\r\n            properties: {\r\n              \"colName\": {\r\n                \"type\": \"string\",\r\n                \"title\": \"属性\",\r\n                \"enum\": [\r\n                  \"offset\",\r\n                  \"order\",\r\n                  \"pull\",\r\n                  \"push\",\r\n                  \"span\",\r\n                  \"xs\",\r\n                  \"sm\",\r\n                  \"md\",\r\n                  \"lg\",\r\n                  \"xl\",\r\n                  \"xxl\",\r\n                ]\r\n              },\r\n              \"number\": {\r\n                type: 'integer',\r\n                title: '数值'\r\n              }\r\n            },\r\n            \"dependencies\": {\r\n              \"colName\": [ \"number\" ],\r\n              \"number\": [ \"colName\" ]\r\n            },\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    return (\r\n      <AntdForm\r\n        schema={schema}\r\n        formData={state}\r\n        onChange={changeHandler}\r\n        onSubmit={log('submitted')}\r\n        onError={log('errors')}\r\n      />\r\n    )\r\n  })\r\n);\r\n\r\nexport default Depict;\r\n","import styled from 'styled-components';\r\n\r\nimport { TOP, BOTTOM } from '@css/_variable';\r\n\r\nexport const Fsider = styled.div`\r\n  overflow: auto;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n`;\r\n\r\nexport const Fheader = styled.div`\r\n  position: fixed;\r\n  z-index: 10;\r\n  width: 100%;\r\n  background: #f7f8fa;\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 1px 3px 0px,\r\n    rgba(0, 0, 0, 0.1) 0px 1px 3px 0px;\r\n`;\r\n\r\nexport const Fcontent = styled.div`\r\n  margin: ${TOP} 16px 0;\r\n  overflow: initial;\r\n`;\r\n\r\nexport const FformCreate = styled.div`\r\n  padding: 24;\r\n  background: #fff;\r\n  textalign: center;\r\n`;\r\n\r\nexport const FformView = styled(FformCreate)``;\r\n\r\nexport const FCol = styled.div`\r\n  padding-left: 20px;\r\n`;\r\n\r\nexport const Ffooter = styled.div`\r\n  text-align: center;\r\n  height: ${BOTTOM};\r\n  overflow: hidden;\r\n`;\r\n","import React from 'react';\r\nimport { Provider, Observer } from 'mobx-react';\r\nimport { Layout, Menu, Icon, Row, Col, Button, Drawer } from 'antd';\r\nimport FormCreate from '@/components/FormCreate';\r\nimport FormView from '@/components/FormView';\r\nimport Asider from '@/components/Asider';\r\nimport { useVisible } from '@/Hooks';\r\nimport stores from '@/stores';\r\nimport Depict from 'components/Depict';\r\nimport { configure } from 'mobx'; // 开启严格模式\r\n\r\nimport {\r\n  Fsider,\r\n  Fheader,\r\n  Fcontent,\r\n  FformCreate,\r\n  FformView,\r\n  FCol,\r\n  Ffooter\r\n} from './style';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconfigure({ enforceActions: 'observed' }) // 开启严格模式\r\n\r\nconst FrameUI: React.FC = () => {\r\n\r\n  return (\r\n    <Provider {...stores}>\r\n      <Layout>\r\n        <Fsider as={Sider}>\r\n          <div className=\"logo\" />\r\n          <Asider onOpen={stores.legao.change}/>\r\n        </Fsider>\r\n        <Layout style={{ marginLeft: 200 }}>\r\n          <Fheader as={Header}>\r\n            <Button\r\n              type=\"primary\"\r\n              icon=\"smile\"\r\n              loading={false}\r\n              // onClick={}\r\n            >\r\n              生成代码\r\n            </Button>\r\n            <Button\r\n              type=\"danger\"\r\n              icon=\"delete\"\r\n              style={{ marginLeft: 30 }}\r\n              // onClick={}\r\n            >\r\n              重置页面\r\n            </Button>\r\n          </Fheader>\r\n          <Fcontent as={Row} gutter={16}>\r\n            <FCol as={Col} span={18} style={{ paddingLeft: 20 }}>\r\n              <FformView as={FormView} />\r\n            </FCol>\r\n            <FCol as={Col} span={6} style={{ paddingRight: 20 }}>\r\n              <FformCreate as={FormCreate} />\r\n            </FCol>\r\n          </Fcontent>\r\n          <Ffooter as={Footer}>React Magento ©2019 Created by Kicoyu</Ffooter>\r\n        </Layout>\r\n        <Observer>{() => <Drawer\r\n          title=\"配置表单属性\"\r\n          width={420}\r\n          onClose={stores.legao.change}\r\n          visible={stores.legao.depict}\r\n        >\r\n          <Depict onClose={stores.legao.change} />\r\n        </Drawer>}</Observer>\r\n      </Layout>\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default FrameUI;\r\n","import React from 'react';\r\nimport FrameUI from './view';\r\n\r\nimport '@css/global.css';\r\n\r\nconst App: React.FC = () => {\r\n  return (\r\n    <div className=\"App\">\r\n      <FrameUI />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import R from 'ramda'\r\n\r\nexport const isStringNull = (str: any): boolean => {\r\n  return !str || !String(str).trim()\r\n}\r\n\r\n// 默认函数，返回第一个参数\r\nexport const noop = (...args: any[]) => args[0];\r\n\r\nexport const Trans_Map = new Map([\r\n  [\"component\", \"ui:widget\"],\r\n  [\"className\", \"classNames\"],\r\n  [\"condition\", \"condition\"],\r\n  [\"sortdata\", \"ui:order\"],\r\n  [\"props\", \"ui:options\"],\r\n  // [\"layout\", \"ui:options\"],\r\n])\r\n\r\nexport const filterData = R.memoizeWith(R.identity, _ => _.filter(x => Trans_Map.has(x)))\r\n\r\nexport const separate = (source, path, data) => arr => {\r\n  const parentName = path.pop()\r\n  if (path[path.length - 1] === 'properties') {\r\n    const LEN = path.length - 1\r\n    // 处理required\r\n    path.reduce((r, n, k) => {\r\n      r[n] = r[n] || {}\r\n      if (data.required && (!LEN || k === LEN - 1)) {\r\n        if (!LEN) {\r\n          r.required = r.required || []\r\n          r.required.push(parentName)\r\n        } else {\r\n          r[n].required = r[n].required || []\r\n          r[n].required.push(parentName)\r\n        }\r\n      }\r\n      if (k === LEN) {\r\n        r[n][parentName] = data\r\n      }\r\n      return r[n]\r\n    }, source.schema)\r\n\r\n    if (arr.length) {\r\n      const formatArr = path.filter(x => x !== 'properties')\r\n      let render = source.uiSchema\r\n      formatArr.length && formatArr.reduce((r, n, k) => {\r\n        r[n] = r[n] || {}\r\n        // add properties 之前的那个\r\n        if (k === formatArr.length - 1) {\r\n          // render[`${Trans_Map.get('sortdata')}`] = r[n].sortdata\r\n          render = r[n]\r\n        }\r\n        return r[n]\r\n      }, source.uiSchema)\r\n      arr.forEach((property) => {\r\n        render[parentName] = render[parentName] || {}\r\n        render[parentName][`${Trans_Map.get(property)}`] = data[property]\r\n      })\r\n    }\r\n  } else {\r\n    source.schema[parentName] = data\r\n  }\r\n}\r\n\r\nexport const pipeData = (source: object, path: Array<String>) => (data: object) => {\r\n  return R.compose(separate(source, path, data), filterData, Object.keys)(data)\r\n}\r\n\r\nexport const keyHandler = (obj, arr, fn) => Object.keys(obj).forEach(k => arr.push(k) && fn(obj[k]))\r\n\r\nexport const deleteEmpty = obj =>\r\nObject.fromEntries(\r\n  Object.entries(obj)\r\n    .filter(([k, v]) => v != null && v !== '' && JSON.stringify(v) !== '{}')\r\n    .map(([k, v]) => (typeof v === \"object\" ? [k, deleteEmpty(v)] : [k, v]))\r\n);\r\n"],"sourceRoot":""}